(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ft,$,Kr,Le,jn,Xr,tn,Zr,gn,nn,rn,Jr,ct={},Qr=[],ko=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Rt=Array.isArray;function me(e,t){for(var n in t)e[n]=t[n];return e}function mn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Z(e,t,n){var r,i,o,u={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:u[o]=t[o];if(arguments.length>2&&(u.children=arguments.length>3?ft.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)u[o]===void 0&&(u[o]=e.defaultProps[o]);return it(e,u,r,i,null)}function it(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Kr,__i:-1,__u:0};return i==null&&$.vnode!=null&&$.vnode(o),o}function Ro(){return{current:null}}function te(e){return e.children}function ae(e,t){this.props=e,this.context=t}function Ve(e,t){if(t==null)return e.__?Ve(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ve(e):null}function ei(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ei(e)}}function on(e){(!e.__d&&(e.__d=!0)&&Le.push(e)&&!xt.__r++||jn!==$.debounceRendering)&&((jn=$.debounceRendering)||Xr)(xt)}function xt(){var e,t,n,r,i,o,u,a;for(Le.sort(tn);e=Le.shift();)e.__d&&(t=Le.length,r=void 0,o=(i=(n=e).__v).__e,u=[],a=[],n.__P&&((r=me({},i)).__v=i.__v+1,$.vnode&&$.vnode(r),_n(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,u,o??Ve(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,ri(u,r,a),r.__e!=o&&ei(r)),Le.length>t&&Le.sort(tn));xt.__r=0}function ti(e,t,n,r,i,o,u,a,s,l,f){var c,h,d,b,C,m,D=r&&r.__k||Qr,y=t.length;for(s=Po(n,t,D,s,y),c=0;c<y;c++)(d=n.__k[c])!=null&&(h=d.__i===-1?ct:D[d.__i]||ct,d.__i=c,m=_n(e,d,h,i,o,u,a,s,l,f),b=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&yn(h.ref,null,d),f.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),4&d.__u||h.__k===d.__k?s=ni(d,s,e):typeof d.type=="function"&&m!==void 0?s=m:b&&(s=b.nextSibling),d.__u&=-7);return n.__e=C,s}function Po(e,t,n,r,i){var o,u,a,s,l,f=n.length,c=f,h=0;for(e.__k=new Array(i),o=0;o<i;o++)(u=t[o])!=null&&typeof u!="boolean"&&typeof u!="function"?(s=o+h,(u=e.__k[o]=typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?it(null,u,null,null,null):Rt(u)?it(te,{children:u},null,null,null):u.constructor===void 0&&u.__b>0?it(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=e,u.__b=e.__b+1,a=null,(l=u.__i=Oo(u,n,s,c))!==-1&&(c--,(a=n[l])&&(a.__u|=2)),a==null||a.__v===null?(l==-1&&h--,typeof u.type!="function"&&(u.__u|=4)):l!=s&&(l==s-1?h--:l==s+1?h++:(l>s?h--:h++,u.__u|=4))):e.__k[o]=null;if(c)for(o=0;o<f;o++)(a=n[o])!=null&&!(2&a.__u)&&(a.__e==r&&(r=Ve(a)),ii(a,a));return r}function ni(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=ni(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Ve(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function _e(e,t){return t=t||[],e==null||typeof e=="boolean"||(Rt(e)?e.some(function(n){_e(n,t)}):t.push(e)),t}function Oo(e,t,n,r){var i,o,u=e.key,a=e.type,s=t[n];if(s===null||s&&u==s.key&&a===s.type&&!(2&s.__u))return n;if(r>(s!=null&&!(2&s.__u)?1:0))for(i=n-1,o=n+1;i>=0||o<t.length;){if(i>=0){if((s=t[i])&&!(2&s.__u)&&u==s.key&&a===s.type)return i;i--}if(o<t.length){if((s=t[o])&&!(2&s.__u)&&u==s.key&&a===s.type)return o;o++}}return-1}function Un(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||ko.test(t)?n:n+"px"}function Ct(e,t,n,r,i){var o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Un(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Un(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(Zr,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=gn,e.addEventListener(t,o?rn:nn,o)):e.removeEventListener(t,o?rn:nn,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Hn(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=gn++;else if(t.t<n.u)return;return n($.event?$.event(t):t)}}}function _n(e,t,n,r,i,o,u,a,s,l){var f,c,h,d,b,C,m,D,y,p,S,v,R,x,k,P,I,w=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(s=!!(32&n.__u),o=[a=t.__e=n.__e]),(f=$.__b)&&f(t);e:if(typeof w=="function")try{if(D=t.props,y="prototype"in w&&w.prototype.render,p=(f=w.contextType)&&r[f.__c],S=f?p?p.props.value:f.__:r,n.__c?m=(c=t.__c=n.__c).__=c.__E:(y?t.__c=c=new w(D,S):(t.__c=c=new ae(D,S),c.constructor=w,c.render=Bo),p&&p.sub(c),c.props=D,c.state||(c.state={}),c.context=S,c.__n=r,h=c.__d=!0,c.__h=[],c._sb=[]),y&&c.__s==null&&(c.__s=c.state),y&&w.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=me({},c.__s)),me(c.__s,w.getDerivedStateFromProps(D,c.__s))),d=c.props,b=c.state,c.__v=t,h)y&&w.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),y&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(y&&w.getDerivedStateFromProps==null&&D!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(D,S),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(D,c.__s,S)===!1||t.__v==n.__v)){for(t.__v!=n.__v&&(c.props=D,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(J){J&&(J.__=t)}),v=0;v<c._sb.length;v++)c.__h.push(c._sb[v]);c._sb=[],c.__h.length&&u.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(D,c.__s,S),y&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,b,C)})}if(c.context=S,c.props=D,c.__P=e,c.__e=!1,R=$.__r,x=0,y){for(c.state=c.__s,c.__d=!1,R&&R(t),f=c.render(c.props,c.state,c.context),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[]}else do c.__d=!1,R&&R(t),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++x<25);c.state=c.__s,c.getChildContext!=null&&(r=me(me({},r),c.getChildContext())),y&&!h&&c.getSnapshotBeforeUpdate!=null&&(C=c.getSnapshotBeforeUpdate(d,b)),a=ti(e,Rt(P=f!=null&&f.type===te&&f.key==null?f.props.children:f)?P:[P],t,n,r,i,o,u,a,s,l),c.base=t.__e,t.__u&=-161,c.__h.length&&u.push(c),m&&(c.__E=c.__=null)}catch(J){if(t.__v=null,s||o!=null)if(J.then){for(t.__u|=s?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,t.__e=a}else for(I=o.length;I--;)mn(o[I]);else t.__e=n.__e,t.__k=n.__k;$.__e(J,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=Lo(n.__e,t,n,r,i,o,u,s,l);return(f=$.diffed)&&f(t),128&t.__u?void 0:a}function ri(e,t,n){for(var r=0;r<n.length;r++)yn(n[r],n[++r],n[++r]);$.__c&&$.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){$.__e(o,i.__v)}})}function Lo(e,t,n,r,i,o,u,a,s){var l,f,c,h,d,b,C,m=n.props,D=t.props,y=t.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((d=o[l])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){e=d,o[l]=null;break}}if(e==null){if(y==null)return document.createTextNode(D);e=document.createElementNS(i,y,D.is&&D),a&&($.__m&&$.__m(t,o),a=!1),o=null}if(y===null)m===D||a&&e.data===D||(e.data=D);else{if(o=o&&ft.call(e.childNodes),m=n.props||ct,!a&&o!=null)for(m={},l=0;l<e.attributes.length;l++)m[(d=e.attributes[l]).name]=d.value;for(l in m)if(d=m[l],l!="children"){if(l=="dangerouslySetInnerHTML")c=d;else if(!(l in D)){if(l=="value"&&"defaultValue"in D||l=="checked"&&"defaultChecked"in D)continue;Ct(e,l,null,d,i)}}for(l in D)d=D[l],l=="children"?h=d:l=="dangerouslySetInnerHTML"?f=d:l=="value"?b=d:l=="checked"?C=d:a&&typeof d!="function"||m[l]===d||Ct(e,l,d,m[l],i);if(f)a||c&&(f.__html===c.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(c&&(e.innerHTML=""),ti(e,Rt(h)?h:[h],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,u,o?o[0]:n.__k&&Ve(n,0),a,s),o!=null)for(l=o.length;l--;)mn(o[l]);a||(l="value",y=="progress"&&b==null?e.removeAttribute("value"):b!==void 0&&(b!==e[l]||y=="progress"&&!b||y=="option"&&b!==m[l])&&Ct(e,l,b,m[l],i),l="checked",C!==void 0&&C!==e[l]&&Ct(e,l,C,m[l],i))}return e}function yn(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){$.__e(i,n)}}function ii(e,t,n){var r,i;if($.unmount&&$.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||yn(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){$.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&ii(r[i],t,n||typeof e.type!="function");n||mn(e.__e),e.__c=e.__=e.__e=void 0}function Bo(e,t,n){return this.constructor(e,n)}function xe(e,t,n){var r,i,o,u;t==document&&(t=document.documentElement),$.__&&$.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],u=[],_n(t,e=(!r&&n||t).__k=Z(te,null,[e]),i||ct,ct,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?ft.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,u),ri(o,e,u)}function bn(e,t){xe(e,t,bn)}function Dn(e,t,n){var r,i,o,u,a=me({},e.props);for(o in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o]===void 0&&u!==void 0?u[o]:t[o];return arguments.length>2&&(a.children=arguments.length>3?ft.call(arguments,2):n),it(e.type,a,r||e.key,i||e.ref,null)}function oi(e,t){var n={__c:t="__cC"+Jr++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=new Set,(o={})[t]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&i.forEach(function(a){a.__e=!0,on(a)})},this.sub=function(u){i.add(u);var a=u.componentWillUnmount;u.componentWillUnmount=function(){i&&i.delete(u),a&&a.call(u)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ft=Qr.slice,$={__e:function(e,t,n,r){for(var i,o,u;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),u=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),u=i.__d),u)return i.__E=i}catch(a){e=a}throw e}},Kr=0,ae.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=me({},this.state),typeof e=="function"&&(e=e(me({},n),this.props)),e&&me(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),on(this))},ae.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),on(this))},ae.prototype.render=te,Le=[],Xr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tn=function(e,t){return e.__v.__b-t.__v.__b},xt.__r=0,Zr=/(PointerCapture)$|Capture$/i,gn=0,nn=Hn(!1),rn=Hn(!0),Jr=0;var No=0;function g(e,t,n,r,i,o){t||(t={});var u,a,s=t;if("ref"in s)for(a in s={},t)a=="ref"?u=t[a]:s[a]=t[a];var l={type:e,props:s,key:n,ref:u,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--No,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(u=e.defaultProps))for(a in u)s[a]===void 0&&(s[a]=u[a]);return $.vnode&&$.vnode(l),l}var we,M,jt,Wn,Ye=0,ui=[],j=$,Gn=j.__b,qn=j.__r,Vn=j.diffed,Yn=j.__c,Kn=j.unmount,Xn=j.__;function Ze(e,t){j.__h&&j.__h(M,e,Ye||t),Ye=0;var n=M.__H||(M.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function U(e){return Ye=1,vn(ci,e)}function vn(e,t,n){var r=Ze(we++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ci(void 0,t),function(a){var s=r.__N?r.__N[0]:r.__[0],l=r.t(s,a);s!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=M,!M.u)){var i=function(a,s,l){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!o||o.call(this,a,s,l);var c=r.__c.props!==a;return f.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(c=!0)}}),o&&o.call(this,a,s,l)||c};M.u=!0;var o=M.shouldComponentUpdate,u=M.componentWillUpdate;M.componentWillUpdate=function(a,s,l){if(this.__e){var f=o;o=void 0,i(a,s,l),o=f}u&&u.call(this,a,s,l)},M.shouldComponentUpdate=i}return r.__N||r.__}function q(e,t){var n=Ze(we++,3);!j.__s&&En(n.__H,t)&&(n.__=e,n.i=t,M.__H.__h.push(n))}function ht(e,t){var n=Ze(we++,4);!j.__s&&En(n.__H,t)&&(n.__=e,n.i=t,M.__h.push(n))}function ye(e){return Ye=5,T(function(){return{current:e}},[])}function ai(e,t,n){Ye=6,ht(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function T(e,t){var n=Ze(we++,7);return En(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ee(e,t){return Ye=8,T(function(){return e},t)}function Cn(e){var t=M.context[e.__c],n=Ze(we++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(M)),t.props.value):e.__}function si(e,t){j.useDebugValue&&j.useDebugValue(t?t(e):e)}function li(){var e=Ze(we++,11);if(!e.__){for(var t=M.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Mo(){for(var e;e=ui.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ft),e.__H.__h.forEach(un),e.__H.__h=[]}catch(t){e.__H.__h=[],j.__e(t,e.__v)}}j.__b=function(e){M=null,Gn&&Gn(e)},j.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Xn&&Xn(e,t)},j.__r=function(e){qn&&qn(e),we=0;var t=(M=e.__c).__H;t&&(jt===M?(t.__h=[],M.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(Ft),t.__h.forEach(un),t.__h=[],we=0)),jt=M},j.diffed=function(e){Vn&&Vn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ui.push(t)!==1&&Wn===j.requestAnimationFrame||((Wn=j.requestAnimationFrame)||zo)(Mo)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),jt=M=null},j.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ft),n.__h=n.__h.filter(function(r){return!r.__||un(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],j.__e(r,n.__v)}}),Yn&&Yn(e,t)},j.unmount=function(e){Kn&&Kn(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ft(r)}catch(i){t=i}}),n.__H=void 0,t&&j.__e(t,n.__v))};var Zn=typeof requestAnimationFrame=="function";function zo(e){var t,n=function(){clearTimeout(r),Zn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Zn&&(t=requestAnimationFrame(n))}function Ft(e){var t=M,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),M=t}function un(e){var t=M;e.__c=e.__(),M=t}function En(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function ci(e,t){return typeof t=="function"?t(e):t}function di(e,t){for(var n in t)e[n]=t[n];return e}function an(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function fi(e,t){var n=t(),r=U({t:{__:n,u:t}}),i=r[0].t,o=r[1];return ht(function(){i.__=n,i.u=t,Ut(i)&&o({t:i})},[e,n,t]),q(function(){return Ut(i)&&o({t:i}),e(function(){Ut(i)&&o({t:i})})},[e]),n}function Ut(e){var t,n,r=e.u,i=e.__;try{var o=r();return!((t=i)===(n=o)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function hi(e){e()}function pi(e){return e}function gi(){return[!1,hi]}var mi=ht;function sn(e,t){this.props=e,this.context=t}function jo(e,t){function n(i){var o=this.props.ref,u=o==i.ref;return!u&&o&&(o.call?o(null):o.current=null),t?!t(this.props,i)||!u:an(this.props,i)}function r(i){return this.shouldComponentUpdate=n,Z(e,i)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(sn.prototype=new ae).isPureReactComponent=!0,sn.prototype.shouldComponentUpdate=function(e,t){return an(this.props,e)||an(this.state,t)};var Jn=$.__b;$.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Jn&&Jn(e)};var Uo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Je(e){function t(n){var r=di({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=Uo,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Qn=function(e,t){return e==null?null:_e(_e(e).map(t))},Ho={map:Qn,forEach:Qn,count:function(e){return e?_e(e).length:0},only:function(e){var t=_e(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:_e},Wo=$.__e;$.__e=function(e,t,n,r){if(e.then){for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}Wo(e,t,n,r)};var er=$.unmount;function _i(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=di({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return _i(r,t,n)})),e}function yi(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return yi(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function At(){this.__u=0,this.o=null,this.__b=null}function bi(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Go(e){var t,n,r;function i(o){if(t||(t=e()).then(function(u){n=u.default||u},function(u){r=u}),r)throw r;if(!n)throw t;return Z(n,o)}return i.displayName="Lazy",i.__f=!0,i}function tt(){this.i=null,this.l=null}$.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),er&&er(e)},(At.prototype=new ae).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var i=bi(r.__v),o=!1,u=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=u;var a=function(){if(!--r.__u){if(r.state.__a){var s=r.state.__a;r.__v.__k[0]=yi(s,s.__c.__P,s.__c.__O)}var l;for(r.setState({__a:r.__b=null});l=r.o.pop();)l.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(u,u)},At.prototype.componentWillUnmount=function(){this.o=[]},At.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=_i(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Z(te,null,e.fallback);return i&&(i.__u&=-33),[Z(te,null,t.__a?null:e.children),i]};var tr=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function qo(e){return this.getChildContext=function(){return e.context},e.children}function Vo(e){var t=this,n=e.h;t.componentWillUnmount=function(){xe(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),t.v||(t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(r){this.childNodes.push(r),t.h.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),t.h.insertBefore(r,i)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.h.removeChild(r)}}),xe(Z(qo,{context:t.context},e.__v),t.v)}function Yo(e,t){var n=Z(Vo,{__v:e,h:t});return n.containerInfo=t,n}(tt.prototype=new ae).__a=function(e){var t=this,n=bi(t.__v),r=t.l.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),tr(t,e,r)):i()};n?n(o):o()}},tt.prototype.render=function(e){this.i=null,this.l=new Map;var t=_e(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},tt.prototype.componentDidUpdate=tt.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){tr(e,n,t)})};var Di=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ko=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Xo=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Zo=/[A-Z0-9]/g,Jo=typeof document<"u",Qo=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function eu(e,t,n){return t.__k==null&&(t.textContent=""),xe(e,t),typeof n=="function"&&n(),e?e.__c:null}function tu(e,t,n){return bn(e,t),typeof n=="function"&&n(),e?e.__c:null}ae.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ae.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var nr=$.event;function nu(){}function ru(){return this.cancelBubble}function iu(){return this.defaultPrevented}$.event=function(e){return nr&&(e=nr(e)),e.persist=nu,e.isPropagationStopped=ru,e.isDefaultPrevented=iu,e.nativeEvent=e};var Sn,ou={enumerable:!1,configurable:!0,get:function(){return this.class}},rr=$.vnode;$.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,i={},o=r.indexOf("-")===-1;for(var u in n){var a=n[u];if(!(u==="value"&&"defaultValue"in n&&a==null||Jo&&u==="children"&&r==="noscript"||u==="class"||u==="className")){var s=u.toLowerCase();u==="defaultValue"&&"value"in n&&n.value==null?u="value":u==="download"&&a===!0?a="":s==="translate"&&a==="no"?a=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?u="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||Qo(n.type)?s==="onfocus"?u="onfocusin":s==="onblur"?u="onfocusout":Xo.test(u)&&(u=s):s=u="oninput":o&&Ko.test(u)?u=u.replace(Zo,"-$&").toLowerCase():a===null&&(a=void 0),s==="oninput"&&i[u=s]&&(u="oninputCapture"),i[u]=a}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=_e(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=_e(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",ou)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i}(e),e.$$typeof=Di,rr&&rr(e)};var ir=$.__r;$.__r=function(e){ir&&ir(e),Sn=e.__c};var or=$.diffed;$.diffed=function(e){or&&or(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Sn=null};var uu={ReactCurrentDispatcher:{current:{readContext:function(e){return Sn.__n[e.__c].props.value},useCallback:ee,useContext:Cn,useDebugValue:si,useDeferredValue:pi,useEffect:q,useId:li,useImperativeHandle:ai,useInsertionEffect:mi,useLayoutEffect:ht,useMemo:T,useReducer:vn,useRef:ye,useState:U,useSyncExternalStore:fi,useTransition:gi}}};function au(e){return Z.bind(null,e)}function Pt(e){return!!e&&e.$$typeof===Di}function su(e){return Pt(e)&&e.type===te}function lu(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function cu(e){return Pt(e)?Dn.apply(null,arguments):e}function du(e){return!!e.__k&&(xe(null,e),!0)}function fu(e){return e&&(e.base||e.nodeType===1&&e)||null}var hu=function(e,t){return e(t)},pu=function(e,t){return e(t)},gu=te,mu=Pt,G={useState:U,useId:li,useReducer:vn,useEffect:q,useLayoutEffect:ht,useInsertionEffect:mi,useTransition:gi,useDeferredValue:pi,useSyncExternalStore:fi,startTransition:hi,useRef:ye,useImperativeHandle:ai,useMemo:T,useCallback:ee,useContext:Cn,useDebugValue:si,version:"18.3.1",Children:Ho,render:eu,hydrate:tu,unmountComponentAtNode:du,createPortal:Yo,createElement:Z,createContext:oi,createFactory:au,cloneElement:cu,createRef:Ro,Fragment:te,isValidElement:Pt,isElement:mu,isFragment:su,isMemo:lu,findDOMNode:fu,Component:ae,PureComponent:sn,memo:jo,forwardRef:Je,flushSync:pu,unstable_batchedUpdates:hu,StrictMode:gu,Suspense:At,SuspenseList:tt,lazy:Go,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:uu};function Fn(){return(Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _u=["context","children"];function yu(e){this.getChildContext=function(){return e.context};var t=e.children,n=function(r,i){if(r==null)return{};var o,u,a={},s=Object.keys(r);for(u=0;u<s.length;u++)i.indexOf(o=s[u])>=0||(a[o]=r[o]);return a}(e,_u);return Dn(t,n)}function bu(){var e=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(e),this._vdom=Z(yu,Fn({},this._props,{context:e.detail.context}),function t(n,r){if(n.nodeType===3)return n.data;if(n.nodeType!==1)return null;var i=[],o={},u=0,a=n.attributes,s=n.childNodes;for(u=a.length;u--;)a[u].name!=="slot"&&(o[a[u].name]=a[u].value,o[vi(a[u].name)]=a[u].value);for(u=s.length;u--;){var l=t(s[u],null),f=s[u].slot;f?o[f]=Z(ur,{name:f},l):i[u]=l}var c=r?Z(ur,null,i):i;return Z(r||n.nodeName.toLowerCase(),o,c)}(this,this._vdomComponent)),(this.hasAttribute("hydrate")?bn:xe)(this._vdom,this._root)}function vi(e){return e.replace(/-(\w)/g,function(t,n){return n?n.toUpperCase():""})}function Du(e,t,n){if(this._vdom){var r={};r[e]=n=n??void 0,r[vi(e)]=n,this._vdom=Dn(this._vdom,r),xe(this._vdom,this._root)}}function vu(){xe(this._vdom=null,this._root)}function ur(e,t){var n=this;return Z("slot",Fn({},e,{ref:function(r){r?(n.ref=r,n._listener||(n._listener=function(i){i.stopPropagation(),i.detail.context=t},r.addEventListener("_preact",n._listener))):n.ref.removeEventListener("_preact",n._listener)}}))}function Yl(e,t,n,r){function i(){var o=Reflect.construct(HTMLElement,[],i);return o._vdomComponent=e,o._root=o,o}return(i.prototype=Object.create(HTMLElement.prototype)).constructor=i,i.prototype.connectedCallback=bu,i.prototype.attributeChangedCallback=Du,i.prototype.disconnectedCallback=vu,n=n||e.observedAttributes||Object.keys(e.propTypes||{}),i.observedAttributes=n,n.forEach(function(o){Object.defineProperty(i.prototype,o,{get:function(){return this._vdom.props[o]},set:function(u){this._vdom?this.attributeChangedCallback(o,null,u):(this._props||(this._props={}),this._props[o]=u,this.connectedCallback());var a=typeof u;u!=null&&a!=="string"&&a!=="boolean"&&a!=="number"||this.setAttribute(o,u)}})}),customElements.define(t||e.tagName||e.displayName||e.name,i)}const Ci=()=>{var e,t;return((t=(e=window.Shopify)==null?void 0:e.routes)==null?void 0:t.root)??"/"},Cu=({compare_at_price:e})=>e?e/100:null,Ei=({product:e})=>({...e,url:e.url??`${Ci()}products/${e.handle}`,variants:e.variants.map(t=>({...t,price:t.price/100,compare_at_price:Cu({compare_at_price:t.compare_at_price})}))}),Kl=({liquidProps:{upsellAppData:e,productPageProduct:t,productPageCollectionIds:n,cartItems:r,firstShopProductId:i,shopMoneyFormat:o}})=>{const u=T(()=>e?JSON.parse(e).funnels||[]:[],[e]);q(()=>{window&&(window.essentialUpsellConfigs={funnels:u})},[u]);const a=T(()=>n?JSON.parse(n).map(f=>`${f}`):[],[n]),s=T(()=>r?JSON.parse(r).map(f=>({productId:`${f.productId}`,variantId:`${f.variantId}`,collectionIds:f.collectionIds.map(c=>`${c}`)})):[],[r]),l=T(()=>{if(!t)return null;const f=JSON.parse(t);return f?Ei({product:f}):null},[t]);return T(()=>({funnels:u,productPageProduct:l,productPageCollectionIds:a,cartItems:s,firstShopProductId:i,shopMoneyFormat:o}),[u,l,a,s,i,o])};var Y=(e=>(e.RECOMMENDATIONS_API="RECOMMENDATIONS_API",e.SPECIFIC="SPECIFIC",e))(Y||{}),Te=(e=>(e.CROSS_SELL="CROSS_SELL",e.FREQUENTLY_BOUGHT_TOGETHER="FREQUENTLY_BOUGHT_TOGETHER",e))(Te||{}),Se=(e=>(e.NONE="NONE",e.PERCENTAGE="PERCENTAGE",e.FIXED_AMOUNT="FIXED_AMOUNT",e.CUSTOM="CUSTOM",e))(Se||{}),Si=(e=>(e.CAROUSEL="CAROUSEL",e.STACKED="STACKED",e))(Si||{}),Be=(e=>(e.PRODUCT_PAGE="PRODUCT_PAGE",e.CART_PAGE="CART_PAGE",e))(Be||{}),ln=(e=>(e.ALL="ALL",e.SPECIFIC="SPECIFIC",e.SPECIFIC_COLLECTIONS="SPECIFIC_COLLECTIONS",e.CUSTOM="CUSTOM",e))(ln||{}),se=(e=>(e.ALL="ALL",e.SPECIFIC_PRODUCTS="SPECIFIC_PRODUCTS",e.SPECIFIC_COLLECTIONS="SPECIFIC_COLLECTIONS",e))(se||{}),Eu=(e=>(e.TOP_OF_THE_CART="TOP_OF_THE_CART",e.BOTTOM_OF_THE_CART="BOTTOM_OF_THE_CART",e.CUSTOM="CUSTOM",e))(Eu||{}),Fi=(e=>(e.MONOCHROME="MONOCHROME",e.GRADIENT="GRADIENT",e))(Fi||{}),cn=(e=>(e.GLOBAL="GLOBAL",e.LOCAL="LOCAL",e))(cn||{});const Ai=({funnel:e,productId:t,variantId:n,product:r=null})=>{const i=`gid://shopify/Product/${t}`;return e.placement.specificProducts.some(o=>{if(!(o.shopifyId===i))return!1;const a=o.variantIds;if(!a||!Array.isArray(a)||a.length===0)return!0;if(!n&&r&&r.variants&&r.variants.length>0){const l=String(r.variants[0].id),f=`gid://shopify/ProductVariant/${l}`;return a.some(c=>c===l||c===f)}if(!n)return!1;const s=`gid://shopify/ProductVariant/${n}`;return a.some(l=>l===n||l===s)})},Su=({collectionId:e})=>`gid://shopify/Collection/${e}`,xi=({funnel:e,collectionIds:t})=>e.placement.specificCollections.some(n=>t.some(r=>n.shopifyId===Su({collectionId:r}))),qe=({funnel:e})=>e.placement.triggerType?e.placement.triggerType:e.placement.productPageProductsType===ln.SPECIFIC?se.SPECIFIC_PRODUCTS:e.placement.productPageProductsType===ln.SPECIFIC_COLLECTIONS?se.SPECIFIC_COLLECTIONS:se.ALL;function nt(){if(typeof window>"u")return null;try{return new URL(window.location.href).searchParams.get("variant")}catch(e){return console.error("Error parsing URL for variant ID:",e),null}}function Fu(){const[e,t]=U(nt());return q(()=>{const n=()=>{const o=nt();t(o)};window.addEventListener("popstate",n);const r=new MutationObserver(o=>{const u=nt();u!==e&&t(u)});r.observe(document,{subtree:!0,childList:!0});const i=setInterval(()=>{const o=nt();o!==e&&t(o)},500);return()=>{window.removeEventListener("popstate",n),r.disconnect(),clearInterval(i)}},[e]),e}function Xl({funnels:e,productPageProduct:t,productPageCollectionIds:n}){const r=Fu(),i=T(()=>e.filter(s=>s.placement.type===Be.PRODUCT_PAGE),[e]),o=T(()=>t?i.find(s=>qe({funnel:s})!==se.SPECIFIC_PRODUCTS?!1:Ai({funnel:s,productId:`${t.id}`,variantId:r,product:t})):null,[i,t,r]),u=T(()=>i.find(s=>qe({funnel:s})!==se.SPECIFIC_COLLECTIONS?!1:xi({funnel:s,collectionIds:n})),[i,n]),a=T(()=>i.find(s=>qe({funnel:s})===se.ALL),[i]);return o||u||a||null}const Zl=({funnels:e,cartItems:t})=>{const n=e.filter(u=>u.placement.type===Be.CART_PAGE),r=n.find(u=>qe({funnel:u})!==se.SPECIFIC_PRODUCTS?!1:t.some(a=>Ai({funnel:u,productId:a.productId,variantId:a.variantId})));if(r)return r;const i=n.find(u=>qe({funnel:u})!==se.SPECIFIC_COLLECTIONS?!1:t.some(a=>xi({funnel:u,collectionIds:a.collectionIds})));return i||n.find(u=>qe({funnel:u})===se.ALL)},wi=G.createContext(null),Au=G.createContext(null);class xu{get loading(){return this.translationPromises.size>0}constructor(t,n={}){this.translationGetters=new Map,this.fallbacks=new Map,this.translations=new Map,this.asyncTranslationIds=new Set,this.subscriptions=new Map,this.translationPromises=new Map,this.idsToUpdate=new Set,this.details=t;for(const[r,i]of Object.entries(n))this.translations.set(r,i),this.asyncTranslationIds.add(r)}async resolve(){await Promise.all([...this.translationPromises.values()])}extract(){return[...this.asyncTranslationIds].reduce((t,n)=>({...t,[n]:this.translations.get(n)}),{})}register({id:t,translations:n,fallback:r}){if(this.fallbacks.has(t)||this.fallbacks.set(t,r),this.details.fallbackLocale!=null&&r!=null){const o=Ht(t,this.details.fallbackLocale);this.translations.has(o)||this.translations.set(o,r)}if(this.translationGetters.has(t))return;const i=n?Iu(n):Tu;this.setTranslations(t,i)}state(t){const{locale:n,fallbackLocale:r}=this.details,i=ar(n),o=r!=null&&i.includes(r);let u=!1,a=!1;const s=t.reduce((l,f)=>{const c=[];for(const h of i){const d=Ht(f,h),b=this.translations.get(d);b==null?this.translationPromises.has(d)&&(a=!0):c.push(b)}if(c.length===0&&a&&(u=!0),!o){const h=this.fallbacks.get(f);h!=null&&c.push(h)}return[...l,...c]},[]);return{loading:u,translations:s}}subscribe(t,n){return this.subscriptions.set(n,t),()=>{this.subscriptions.delete(n)}}update(t){this.details=t;for(const[n,r]of this.translationGetters)this.setTranslations(n,r);for(const[n,r]of this.subscriptions)n(this.state(r),this.details)}setTranslations(t,n){this.translationGetters.set(t,n);for(const r of ar(this.details.locale)){const i=Ht(t,r);if(this.translations.has(i))continue;const o=n(r);if(wu(o)){const u=o.then(a=>{this.translationPromises.delete(i),this.translations.set(i,a),this.asyncTranslationIds.add(i),a!=null&&this.updateSubscribersForId(t)}).catch(()=>{this.translationPromises.delete(i),this.translations.set(i,void 0),this.asyncTranslationIds.add(i)});this.translationPromises.set(i,u)}else this.translations.set(i,o)}}updateSubscribersForId(t){if(this.idsToUpdate.add(t),this.enqueuedUpdate!=null)return;const r=typeof window<"u"?window.requestAnimationFrame:setImmediate;this.enqueuedUpdate=r(()=>{delete this.enqueuedUpdate;const i=[...this.idsToUpdate];this.idsToUpdate.clear();for(const[o,u]of this.subscriptions)u.some(a=>i.includes(a))&&o(this.state(u),this.details)})}}function ar(e){const t=e.split("-");return t.length>1?[`${t[0]}-${t[1].toUpperCase()}`,t[0]]:[e]}function wu(e){return e!=null&&e.then!=null}function Ht(e,t){return`${e}__${t}`}function Tu(){}function Iu(e){return typeof e=="function"?e:t=>e[t]}const $u=50;function ce(e,t){const n=new WeakMap,r=new Map,i=[];return function(...u){if(typeof window>"u")return e.apply(this,u);const a=u.length===1&&typeof u[0]=="object"&&!t;let s;a?s=u[0]:t&&t instanceof Function?s=t(...u):s=u[0];const l=a?n:r;if(l.has(s))return l.get(s);const f=e.apply(this,u);if(a)n.set(s,f);else if(r.set(s,f),i.push(s),r.size>$u){const c=i[0];r.delete(c),i.shift()}return f}}function Ot(e){return e.replace("‎","")}const sr={"America/Indiana":"America/Indiana/Indianapolis","America/Argentina":"America/Argentina/Buenos_Aires","Asia/Chongqing":"Asia/Shanghai","Asia/Istanbul":"Europe/Istanbul","Australia/ACT":"Australia/Sydney","Australia/LHI":"Australia/Lord_Howe","Australia/North":"Australia/Darwin","Australia/NSW":"Australia/Sydney","Australia/Queensland":"Australia/Brisbane","Australia/South":"Australia/Adelaide","Australia/Tasmania":"Australia/Hobart","Australia/Victoria":"Australia/Melbourne","Australia/West":"Australia/Perth","Brazil/Acre":"America/Rio_Branco","Brazil/DeNoronha":"America/Noronha","Brazil/East":"America/Sao_Paulo","Brazil/West":"America/Manaus","Canada/Atlantic":"America/Halifax","Canada/Central":"America/Winnipeg","Canada/Eastern":"America/Toronto","Canada/Mountain":"America/Edmonton","Canada/Newfoundland":"America/St_Johns","Canada/Pacific":"America/Vancouver","Canada/Saskatchewan":"America/Regina","Canada/Yukon":"America/Whitehorse","Chile/Continental":"America/Santiago","Chile/EasterIsland":"Pacific/Easter","Europe/Kyiv":"Europe/Kiev",Cuba:"America/Havana",Egypt:"Africa/Cairo",Eire:"Europe/Dublin","Etc/Greenwich":"Etc/GMT","Etc/UCT":"UTC","Etc/Universal":"UTC","Etc/Zulu":"UTC",GB:"Europe/London","GB-Eire":"Europe/London","GMT+0":"Etc/GMT",GMT0:"Etc/GMT","GMT−0":"Etc/GMT",Greenwich:"Etc/GMT",Hongkong:"Asia/Hong_Kong",Iceland:"Atlantic/Reykjavik",Iran:"Asia/Tehran",Israel:"Asia/Jerusalem",Jamaica:"America/Jamaica",Japan:"Asia/Tokyo",Kwajalein:"Pacific/Kwajalein",Libya:"Africa/Tripoli","Mexico/BajaNorte":"America/Tijuana","Mexico/BajaSur":"America/Mazatlan","Mexico/General":"America/Mexico_City",Navajo:"America/Denver",NZ:"Pacific/Auckland","NZ-CHAT":"Pacific/Chatham",Poland:"Europe/Warsaw",Portugal:"Europe/Lisbon",PRC:"Asia/Shanghai",ROC:"Asia/Taipei",ROK:"Asia/Seoul",Singapore:"Asia/Singapore",Turkey:"Europe/Istanbul",UCT:"UTC",Universal:"UTC","US/Alaska":"America/Anchorage","US/Aleutian":"America/Adak","US/Arizona":"America/Phoenix","US/Central":"America/Chicago","US/Eastern":"America/New_York","US/East-Indiana":"America/Indiana/Indianapolis","US/Hawaii":"Pacific/Honolulu","US/Indiana-Starke":"America/Indiana/Knox","US/Michigan":"America/Detroit","US/Mountain":"America/Denver","US/Pacific":"America/Los_Angeles","US/Pacific-New":"America/Los_Angeles","US/Samoa":"Pacific/Pago_Pago","W-SU":"Europe/Moscow",Zulu:"UTC"};function ku(e){return Object.keys(sr).some(t=>t===e)?sr[e]:e}const Wt=new Map;function lr(e,t){const n=Ru(e,t);if(Wt.has(n))return Wt.get(n);const r=new Intl.DateTimeFormat(e,t);return Wt.set(n,r),r}const cr=Intl.DateTimeFormat("en",{hour:"numeric"}),dr=typeof cr.resolvedOptions>"u"?void 0:cr.resolvedOptions();function De(e,t,n={}){if(dr!=null&&n.hour12===!1&&dr.hourCycle!=null&&(n.hour12=void 0,n.hourCycle="h23"),n.timeZone!=null&&n.timeZone==="Etc/GMT+12"){const i=new Date(e.valueOf()-432e5);return lr(t,{...n,timeZone:"UTC"}).format(i)}return lr(t,{...n,timeZone:n.timeZone?ku(n.timeZone):void 0}).format(e)}function Ru(e,t={}){return`${Array.isArray(e)?e.sort().join("-"):e}-${JSON.stringify(t)}`}var Lt;const Gt=/(\d{2})/;function Ke(e,t){return{year:()=>V.getYear(e,t),month:()=>V.getMonth(e,t),day:()=>V.getDay(e,t),weekday:()=>V.getWeekday(e,t),hour:()=>V.getHour(e,t),minute:()=>V.getMinute(e,t),second:()=>V.getSecond(e,t)}}function Ie(e){return(t,n)=>`${e}-${t.toString()}-${n}`}var fr;(function(e){e.Monday="Monday",e.Tuesday="Tuesday",e.Wednesday="Wednesday",e.Thursday="Thursday",e.Friday="Friday",e.Saturday="Saturday",e.Sunday="Sunday"})(fr||(fr={}));const Ti={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6};function Pu(e){return Object.keys(Ti).some(t=>t===e)}function Ou(e){throw new Error(e)}function Lu(e){return Pu(e)?Ti[e]:Ou(`Unexpected weekday: ${e}`)}class V{}Lt=V;V.getYear=ce((e,t)=>{if(isNaN(e.valueOf()))throw new Error(`Unable to parse date: ${e} for timezone: ${t}`);const n=De(e,"en",{timeZone:t,year:"numeric"}),r=Ot(n),i=parseInt(r,10);if(isNaN(i))throw new Error(`Unable to parse year: '${n}'`);return i},Ie("year"));V.getMonth=ce((e,t)=>{const n=De(e,"en",{timeZone:t,month:"numeric"}),r=Ot(n),i=parseInt(r,10);if(isNaN(i))throw new Error(`Unable to parse month: '${n}'`);return i},Ie("month"));V.getDay=ce((e,t)=>{const n=De(e,"en",{timeZone:t,day:"numeric"}),r=Ot(n),i=parseInt(r,10);if(isNaN(i))throw new Error(`Unable to parse day: '${n}'`);return i},Ie("day"));V.getWeekday=ce((e,t)=>{const n=De(e,"en",{timeZone:t,weekday:"long"}),r=Ot(n);return Lu(r)},Ie("weekday"));V.getHour=ce((e,t)=>{const n=De(e,"en",{timeZone:t,hour12:!1,hour:"numeric"});let r=parseInt(n,10);return isNaN(r)&&(r=Lt.getTimePartsFallback(e,t).hour),r},Ie("hour"));V.getMinute=ce((e,t)=>{const n=De(e,"en",{timeZone:t,minute:"numeric"});let r=parseInt(n,10);return isNaN(r)&&(r=Lt.getTimePartsFallback(e,t).minute),r},Ie("minute"));V.getSecond=ce((e,t)=>{const n=De(e,"en",{timeZone:t,second:"numeric"});let r=parseInt(n,10);return isNaN(r)&&(r=Lt.getTimePartsFallback(e,t).second),r},Ie("second"));V.getTimePartsFallback=ce((e,t)=>{const n=De(e,"en",{timeZone:t,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),[r,i,o]=n.split(":"),u=new RegExp(Gt).exec(r),a=new RegExp(Gt).exec(i),s=new RegExp(Gt).exec(o);if(u!=null&&a!=null&&s!=null){const l=parseInt(u[1],10),f=parseInt(a[1],10),c=parseInt(s[1],10);return{hour:l,minute:f,second:c}}throw new Error(`Unable to parse timeString: '${n}'`)},Ie("timePartsFallback"));let be;(function(e){e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"})(be||(be={}));function Ne(e,t=new Date){return t<e}function Bu(e,t=new Date){return!Ne(e,t)&&t.getTime()-e.getTime()<be.Hour}function Nu(e,t=new Date){return!Ne(e,t)&&t.getTime()-e.getTime()<be.Minute}function Mu(e,t=new Date){return!Ne(e,t)&&t.getTime()-e.getTime()<be.Week}function zu(e,t=new Date){return Ne(e,t)&&e.getTime()-t.getTime()<be.Week}function ju(e,t=new Date){return!Ne(e,t)&&t.getTime()-e.getTime()<be.Year}function Uu(e,t=new Date){return Ne(e,t)&&e.getTime()-t.getTime()<be.Year}function Hu(e,t,n){const{year:r}=Ke(e,n),{year:i}=Ke(t,n);return r()===i()}function Wu(e,t,n){const{month:r}=Ke(e,n),{month:i}=Ke(t,n);return Hu(e,t,n)&&r()===i()}function An(e,t,n){const{day:r}=Ke(e,n),{day:i}=Ke(t,n);return Wu(e,t,n)&&r()===i()}function hr(e,t){return An(e,new Date,t)}function Gu(e,t){const n=new Date,r=new Date(n.valueOf()-24*60*60*1e3);return An(e,r,t)}function qu(e,t){const n=new Date,r=new Date(n.valueOf()+24*60*60*1e3);return An(e,r,t)}let H;(function(e){e.Punctuation="[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹏⹒-⹝、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･\uD800]|[\uDD00-\uDD02\uDF9F\uDFD0]|𐕯|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|𛲟|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]",e.Latin="[A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꟿꬰ-ꭚꭜ-ꭤꭦ-ꭩﬀ-ﬆＡ-Ｚａ-ｚ]|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD837[\uDF00-\uDF1E]",e.Han="[⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶿一-鿿豈-舘並-龎]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]",e.Hangul="[ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",e.Katakana="[ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ\uD82B]|[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD64-\uDD67]",e.Hiragana="[ぁ-ゖゝ-ゟ]|\uD82C[\uDC01-\uDD1F\uDD50-\uDD52]|🈀",e.Thai="[ก-ฺเ-๛]"})(H||(H={}));const Ii=new Map([["ko",pr],["ja",(e,t,n)=>n?`${t}${e}`:`${t}様`],["zh",pr]]);function pr(e,t,n){return n?`${t}${e}`:t}function gr(e){if(e&&e.trim().length)return e.trim()}function $i(e){return e.split("-")[0].toLowerCase()}function ki({name:e,locale:t,options:n}){const r=gr(e==null?void 0:e.givenName),i=gr(e==null?void 0:e.familyName);if(i&&!r)return i;if(r&&!i)return r;if(r&&i){const o=!!(n&&n.full),u=Ii.get($i(t));if(u)return u(r,i,o);if(o)return`${r} ${i}`}return r}const Vu=[H.Latin,H.Han,H.Hiragana,H.Katakana,H.Hangul,H.Thai];function Ri(e){return Vu.filter(t=>new RegExp(`${t}`).test(e))}function ot({text:e,locale:t}){if(!e||!Intl.Segmenter)return;const n=new Intl.Segmenter(t,{granularity:"grapheme"});return Array.from(n.segment(e)).map(r=>r.segment)}function Yu({name:e,locale:t,options:n}){var r;return(r=Ku({givenName:e.givenName,familyName:e.familyName,idealMaxLength:n==null?void 0:n.idealMaxLength}))!==null&&r!==void 0?r:ki({name:e,locale:t})}function Ku({givenName:e,familyName:t,idealMaxLength:n=3}){if(!e&&!t)return;const r=e==null?void 0:e.trim(),i=t==null?void 0:t.trim(),o=[r,i].join("");if(new RegExp(`${H.Punctuation}|\\s`).test(o))return;const u=Ri(o);if(u.length!==1)return;switch(u[0]){case H.Latin:return[r==null?void 0:r[0],i==null?void 0:i[0]].join("");case H.Han:case H.Katakana:case H.Hiragana:return i;case H.Hangul:if(r)if(r.length>n){var s;return(s=ot({text:r,locale:"ko"}))===null||s===void 0?void 0:s[0]}else return r;else return i;case H.Thai:if(r){var l;return(l=ot({text:r,locale:"th"}))===null||l===void 0?void 0:l[0]}else{var f;return(f=ot({text:i,locale:"th"}))===null||f===void 0?void 0:f[0]}default:return}}function Xu({name:e,idealMaxLength:t}){var n;return(n=Zu({name:e,idealMaxLength:t}))!==null&&n!==void 0?n:e}function Zu({name:e,idealMaxLength:t=3}){const n=e.trim(),r=Ri(n);if(r.length!==1)return;const i=r[0],o=n.split(" ");switch(i){case H.Latin:return o.length===1?o[0].slice(0,t):o.length<=t?o.map(s=>s[0]).join(""):o.slice(0)[0][0]+o.slice(-1)[0][0];case H.Han:case H.Katakana:case H.Hiragana:return n.includes(" ")?void 0:n;case H.Hangul:{var u;const s=n.split(" ")[0];return(u=ot({text:s,locale:"ko"}))===null||u===void 0?void 0:u.slice(0,t).join("")}case H.Thai:{if(n.includes(" "))return;var a;return(a=ot({text:n,locale:"th"}))===null||a===void 0?void 0:a[0]}default:return}}function Ju(e){return!!Ii.get($i(e))}function mr(e){const t=e.split("-")[1];return t&&t.toUpperCase()}function Pi(e){return e.split("-")[0].toLowerCase()}const Oi=new Map([["a","α"],["b","ḅ"],["c","ͼ"],["d","ḍ"],["e","ḛ"],["f","ϝ"],["g","ḡ"],["h","ḥ"],["i","ḭ"],["j","ĵ"],["k","ḳ"],["l","ḽ"],["m","ṃ"],["n","ṇ"],["o","ṓ"],["p","ṗ"],["q","ʠ"],["r","ṛ"],["s","ṡ"],["t","ṭ"],["u","ṵ"],["v","ṽ"],["w","ẁ"],["x","ẋ"],["y","ẏ"],["z","ẓ"],["A","Ḁ"],["B","Ḃ"],["C","Ḉ"],["D","Ḍ"],["E","Ḛ"],["F","Ḟ"],["G","Ḡ"],["H","Ḥ"],["I","Ḭ"],["J","Ĵ"],["K","Ḱ"],["L","Ḻ"],["M","Ṁ"],["N","Ṅ"],["O","Ṏ"],["P","Ṕ"],["Q","Ǫ"],["R","Ṛ"],["S","Ṣ"],["T","Ṫ"],["U","Ṳ"],["V","Ṿ"],["W","Ŵ"],["X","Ẋ"],["Y","Ŷ"],["Z","Ż"]]),_r=1.15,yr=new Map([["zh",.5],["ja",.5],["ko",.8],["fr",1.3],["it",1.3],["de",1.5],["nl",1.5]]);function Qu({to:e}){return e==null?_r:yr.get(e)||yr.get(Pi(e))||_r}function ea(e,{delimiter:t,startDelimiter:n=t,endDelimiter:r=t,prepend:i,append:o,toLocale:u}={}){const a=na(e,{startDelimiter:n,endDelimiter:r}),s=a.reduce((b,C)=>typeof C=="string"?b+ta(C):b,0),l=Math.ceil(s*Qu({to:u}))-s,f=s/Math.abs(l);let c=f,h=-1;const d=a.reduce((b,C)=>{const m=typeof C=="string"?[...C].map(D=>{const y=Li(D);y&&h++;const p=Oi.get(D)||D;return y&&h+1===Math.floor(c)?(c+=f,l<0?"":p.repeat(2)):p}).join(""):C[0];return b+m},"");return`${i||""}${d}${o||""}`}function Li(e){return Oi.has(e)}function ta(e){return[...e].filter(Li).length}function na(e,{startDelimiter:t,endDelimiter:n}){const r=t&&n?ra(t,n):void 0;let i=0;const o=[];if(r){let u=r.exec(e);for(;u;)o.push(e.substring(i,u.index)),o.push(u),i=u.index+u[0].length,u=r.exec(e);o.push(e.substring(i,e.length))}else o.push(e);return o}function ra(e,t){if(e.length===1&&t.length===1)return new RegExp(`\\${e}[^\\${t}]*\\${t}`,"g");const n=[...e].map(i=>`\\${i}`).join(""),r=[...t].map(i=>`\\${i}`).join("");return new RegExp(`${n}.*?${r}`,"g")}let We;(function(e){e[e.Rtl=0]="Rtl",e[e.Ltr=1]="Ltr"})(We||(We={}));let ie;(function(e){e.Long="Long",e.Short="Short",e.Humanize="Humanize",e.Time="Time",e.DateTime="DateTime"})(ie||(ie={}));const br={[ie.Long]:{weekday:"long",month:"long",day:"2-digit",year:"numeric"},[ie.Short]:{month:"short",day:"numeric",year:"numeric"},[ie.Humanize]:{month:"long",day:"numeric",year:"numeric"},[ie.Time]:{hour:"2-digit",minute:"2-digit"},[ie.DateTime]:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}};let _;(function(e){e.Sunday="sunday",e.Monday="monday",e.Tuesday="tuesday",e.Wednesday="wednesday",e.Thursday="thursday",e.Friday="friday",e.Saturday="saturday"})(_||(_={}));const ia=_.Sunday,oa=new Map([["AE",_.Saturday],["AF",_.Saturday],["BH",_.Saturday],["DZ",_.Saturday],["EG",_.Saturday],["IQ",_.Saturday],["IR",_.Saturday],["JO",_.Saturday],["KW",_.Saturday],["LY",_.Saturday],["OM",_.Saturday],["QA",_.Saturday],["SA",_.Saturday],["SY",_.Saturday],["YE",_.Saturday],["AR",_.Sunday],["BO",_.Sunday],["BR",_.Sunday],["BZ",_.Sunday],["CA",_.Sunday],["CL",_.Sunday],["CO",_.Sunday],["CR",_.Sunday],["DO",_.Sunday],["EC",_.Sunday],["GT",_.Sunday],["HK",_.Sunday],["HN",_.Sunday],["IL",_.Sunday],["JM",_.Sunday],["JP",_.Sunday],["KE",_.Sunday],["KR",_.Sunday],["MO",_.Sunday],["MX",_.Sunday],["NI",_.Sunday],["PA",_.Sunday],["PE",_.Sunday],["PH",_.Sunday],["SG",_.Sunday],["SV",_.Sunday],["TW",_.Sunday],["US",_.Sunday],["VE",_.Sunday],["ZA",_.Sunday],["ZW",_.Sunday],["AD",_.Monday],["AL",_.Monday],["AM",_.Monday],["AU",_.Monday],["AZ",_.Monday],["BE",_.Monday],["BG",_.Monday],["BN",_.Monday],["BY",_.Monday],["CH",_.Monday],["CN",_.Monday],["CZ",_.Monday],["DE",_.Monday],["DK",_.Monday],["EE",_.Monday],["ES",_.Monday],["FI",_.Monday],["FR",_.Monday],["GB",_.Monday],["GE",_.Monday],["GF",_.Monday],["GR",_.Monday],["HR",_.Monday],["HU",_.Monday],["ID",_.Monday],["IE",_.Monday],["IN",_.Monday],["IS",_.Monday],["IT",_.Monday],["KG",_.Monday],["KZ",_.Monday],["LB",_.Monday],["LT",_.Monday],["LU",_.Monday],["LV",_.Monday],["MA",_.Monday],["MC",_.Monday],["MK",_.Monday],["MN",_.Monday],["MY",_.Monday],["NL",_.Monday],["NO",_.Monday],["NZ",_.Monday],["PK",_.Monday],["PL",_.Monday],["PT",_.Monday],["PY",_.Monday],["RO",_.Monday],["RS",_.Monday],["RU",_.Monday],["SE",_.Monday],["SK",_.Monday],["TH",_.Monday],["TN",_.Monday],["TR",_.Monday],["UA",_.Monday],["UY",_.Monday],["UZ",_.Monday],["VN",_.Monday],["XK",_.Monday]]),ua=["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],Dr={BRL:"R$",HKD:"HK$"};let Q;(function(e){e.DirectionControl="[‎‏‪-‮]",e.Negative="[-֊־᠆‐-―−➖⸺⸻﹘﹣－]",e.Punctuation="[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹏⹒-⹝、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･\uD800]|[\uDD00-\uDD02\uDF9F\uDFD0]|𐕯|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|𛲟|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]",e.Latin="[A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꟿꬰ-ꭚꭜ-ꭤꭦ-ꭩﬀ-ﬆＡ-Ｚａ-ｚ]|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD837[\uDF00-\uDF1E]",e.Han="[⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶿一-鿿豈-舘並-龎]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]",e.Hangul="[ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",e.Katakana="[ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ\uD82B]|[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD64-\uDD67]",e.Hiragana="[ぁ-ゖゝ-ゟ]|\uD82C[\uDC01-\uDD1F\uDD50-\uDD52]|🈀",e.Thai="[ก-ฺเ-๛]"})(Q||(Q={}));class Bi extends Error{constructor(t,n){super(`Missing translation for key: ${t} in locale: ${n}`)}}class aa extends Error{constructor(t,n={}){let r="";const i=Object.keys(n);i.length<1?r=`No replacement found for key '${t}' (and no replacements were passed in).`:r=`No replacement found for key '${t}'. The following replacements were passed: ${i.map(o=>`'${o}'`).join(", ")}`,super(r)}}class vr extends Error{constructor(t=""){const n="No currency code provided.";super(t===""?n:`${n} ${t}`)}}class sa extends Error{constructor(t=""){const n="No country code provided.";super(t===""?n:`${n} ${t}`)}}const la=/{\s*(\w+)\s*}/g,dn=Symbol("Missing translation"),ut="count",at="ordinal",wt=".",Cr="-u-nu-",Er="latn",Fe=e=>typeof e=="string",qt=new Map;function Ae(e,t){const n=ca(e),r=fa(n,t);if(qt.has(r))return qt.get(r);const i=new Intl.NumberFormat(n,t);return qt.set(r,i),i}function ca(e){return Array.isArray(e)?e.map(t=>Sr(t)):Sr(e)}function Sr(e){if(!e)return e;try{return new Intl.Locale(e,{numberingSystem:Er}).toString()}catch{const t=new RegExp(`(?:-x|${Cr}).*`,"g"),n=`${Cr}${Er}`;return e.replace(t,"").concat(n)}}const da={startDelimiter:"{",endDelimiter:"}",prepend:"[!!",append:"!!]"};function fa(e,t={}){return`${Array.isArray(e)?e.sort().join("-"):e}-${JSON.stringify(t)}`}function ha(e,t={}){return new Intl.PluralRules(e,t)}const dt=ce(ha,(e,t={})=>`${e}${JSON.stringify(t)}`);function Vt(e,t,n,r){const i=Array.isArray(t)?t:[t];let o;for(const u of i){o=u;for(const a of e.split(wt))if(o=o[a],!o)break;if(o)return r?Fe(o)?st(o,r):Ni(o,n,r):o}throw new Bi(e,n)}function pa(e,t,n,r){const{scope:i,replacements:o,pseudotranslate:u,interpolate:a}=t,s=Array.isArray(n)?n:[n],l=ma(e,i);for(const f of s){const c=ga(l,f,r,o,{pseudotranslate:u,interpolate:a});if(c!==dn)return c}throw new Bi(l,r)}function ga(e,t,n,r,{pseudotranslate:i=!1,interpolate:o}={}){let u=t;for(const l of e.split(wt)){if(u==null||typeof u!="object")return dn;u=u[l]}const a={};if(typeof u=="object"&&r!=null&&Object.prototype.hasOwnProperty.call(r,ut)){const l=r[ut];if(typeof l=="number"){if(l===0&&u[0]!==void 0)u=u[0];else if(l===1&&u[1]!==void 0)u=u[1];else{const f=dt(n).select(l);u=u[f]||u.other}a[ut]=Ae(n).format(l)}}else if(typeof u=="object"&&r!=null&&Object.prototype.hasOwnProperty.call(r,at)){const l=r[at];if(typeof l=="number"){const f=dt(n,{type:"ordinal"}).select(l);u=u.ordinal[f]||u.ordinal.other,a[at]=Ae(n).format(l)}}const s=Fe(u)&&i?ea(u,{...da,toLocale:typeof i=="boolean"?void 0:i}):u;return Fe(s)?st(s,{...r,...a},{interpolate:o}):dn}function st(e,t={},{interpolate:n}={}){const r=[],i=new RegExp(n||la,"g");let o=0,u=0;e.replace(i,(s,l,f)=>{if(!l)throw new Error("Invalid replacement key. The interpolatation format RegExp is possibly too permissive.");if(!Object.prototype.hasOwnProperty.call(t,l))throw new aa(l,t);o+=1;const c=e.substring(u,f);c&&r.push(c),u=f+s.length;const h=t[l];return G.isValidElement(h)?r.push(G.cloneElement(h,{key:o})):typeof h=="object"?r.push(h):r.push(String(h)),""});const a=e.substring(u);return a&&r.push(a),r.every(Fe)?r.join(""):r}function ma(e,t){return t==null?e:`${Fe(t)?t:t.join(wt)}${wt}${e}`}function Ni(e,t,n){if(Object.prototype.hasOwnProperty.call(n,ut)){const r=n[ut];if(typeof r=="number"){const i=dt(t).select(r);if(Fe(e[i]))return st(e[i],{...n,CARDINAL_PLURALIZATION_KEY_NAME:Ae(t).format(r)})}}else if(Object.prototype.hasOwnProperty.call(n,at)){const r=n[at];if(typeof r=="number"){const i=dt(t,{type:"ordinal"}).select(r);if(Fe(e[i]))return st(e[i],{...n,ORDINAL_PLURALIZATION_KEY_NAME:Ae(t).format(r)})}}return Object.keys(e).reduce((r,i)=>({...r,[i]:Fe(e[i])?st(e[i],n):Ni(e[i],t,n)}),{})}const Yt=2,Fr=new Map([["AED",2],["AFN",2],["ALL",2],["AMD",2],["ANG",2],["AOA",2],["ARS",2],["AUD",2],["AWG",2],["AZN",2],["BAM",2],["BBD",2],["BDT",2],["BGN",2],["BHD",3],["BIF",0],["BMD",2],["BND",2],["BOB",2],["BOV",2],["BRL",2],["BSD",2],["BTN",2],["BWP",2],["BYN",2],["BYR",0],["BZD",2],["CAD",2],["CDF",2],["CHE",2],["CHF",2],["CHW",2],["CLF",4],["CLP",0],["CNY",2],["COP",2],["COU",2],["CRC",2],["CUC",2],["CUP",2],["CVE",2],["CZK",2],["DJF",0],["DKK",2],["DOP",2],["DZD",2],["EGP",2],["ERN",2],["ETB",2],["EUR",2],["FJD",2],["FKP",2],["GBP",2],["GEL",2],["GHS",2],["GIP",2],["GMD",2],["GNF",0],["GTQ",2],["GYD",2],["HKD",2],["HNL",2],["HRK",2],["HTG",2],["HUF",2],["IDR",2],["ILS",2],["INR",2],["IQD",3],["IRR",2],["ISK",0],["JEP",2],["JMD",2],["JOD",3],["JPY",0],["KES",2],["KGS",2],["KHR",2],["KMF",0],["KPW",2],["KRW",0],["KWD",3],["KYD",2],["KZT",2],["LAK",2],["LBP",2],["LKR",2],["LRD",2],["LSL",2],["LYD",3],["MAD",2],["MDL",2],["MGA",2],["MKD",2],["MMK",2],["MNT",2],["MOP",2],["MRO",5],["MUR",2],["MVR",2],["MWK",2],["MXN",2],["MXV",2],["MYR",2],["MZN",2],["NAD",2],["NGN",2],["NIO",2],["NOK",2],["NPR",2],["NZD",2],["OMR",3],["PAB",2],["PEN",2],["PGK",2],["PHP",2],["PKR",2],["PLN",2],["PYG",0],["QAR",2],["RON",2],["RSD",2],["RUB",2],["RWF",0],["SAR",2],["SBD",2],["SCR",2],["SDG",2],["SEK",2],["SGD",2],["SHP",2],["SLL",2],["SOS",2],["SRD",2],["SSP",2],["STD",2],["STN",2],["SVC",2],["SYP",2],["SZL",2],["THB",2],["TJS",2],["TMT",2],["TND",3],["TOP",2],["TRY",2],["TTD",2],["TWD",2],["TZS",2],["UAH",2],["UGX",0],["USD",2],["USN",2],["UYI",0],["UYU",2],["UYW",4],["UZS",2],["VED",2],["VEF",2],["VES",2],["VND",0],["VUV",0],["WST",2],["XAF",0],["XAG",0],["XAU",0],["XBA",0],["XBB",0],["XBC",0],["XBD",0],["XCD",2],["XDR",0],["XOF",0],["XPD",0],["XPF",0],["XPT",0],["XSU",0],["XTS",0],["XUA",0],["YER",2],["ZAR",2],["ZMW",2],["ZWL",2]]),_a=[Q.Latin,Q.Han,Q.Hiragana,Q.Katakana,Q.Hangul,Q.Thai];function ya(e){return _a.filter(t=>new RegExp(`${t}`).test(e))}function Ar(e,t){const n=ba(0,e,t),r=new RegExp(`${Q.DirectionControl}*`,"gu"),i=n.replace(r,""),o=new RegExp("\\p{Nd}\\p{Po}*\\p{Nd}*","gu").exec(i);if(!o)throw new Error(`Number input in locale ${e} is currently not supported.`);const u=o[0],[a,s]=i.split(u);return{symbol:a||s,prefixed:a!==""}}function ba(e,t,n){return Ae(t,{style:"currency",...n}).format(e)}function Da(e){return e.replace(" "," ")}const Kt=".",va="-",Ca=/\d/g,xr=/\D/g,Ea=/\./g;class Sa{get language(){return Pi(this.locale)}get region(){return mr(this.locale)}get countryCode(){return mr(this.locale)}get languageDirection(){return ua.includes(this.language)?We.Rtl:We.Ltr}get isRtlLanguage(){return this.languageDirection===We.Rtl}get isLtrLanguage(){return this.languageDirection===We.Ltr}constructor(t,{locale:n,currency:r,timezone:i,country:o,pseudolocalize:u=!1,onError:a,loading:s,interpolate:l}){this.getCurrencySymbol=(f,c=this.locale)=>{const h=f||this.defaultCurrency;if(h==null)throw new vr("formatCurrency cannot be called without a currency code.");return this.getShortCurrencySymbol(h,c)},this.numberSymbols=ce(()=>{const f=this.formatNumber(123456.7,{maximumFractionDigits:1,minimumFractionDigits:1});let c,h;for(const d of f)isNaN(parseInt(d,10))&&(c?h=d:c=d);return{thousandSymbol:c,decimalSymbol:h}}),this.translations=t,this.locale=n,this.defaultCountry=o,this.defaultCurrency=r,this.defaultTimezone=i,this.pseudolocalize=u,this.defaultInterpolate=l,this.onError=a||this.defaultOnError,this.loading=s||!1}translate(t,n,r){const{pseudolocalize:i,defaultInterpolate:o}=this;let u;const a={pseudotranslate:i,interpolate:o};n==null?u=a:this.isTranslateOptions(n)?u={...a,...n,replacements:r}:u={...a,replacements:n};try{return pa(t,u,this.translations,this.locale)}catch(s){return this.onError(s),""}}getTranslationTree(t,n){try{return n?Vt(t,this.translations,this.locale,n):Vt(t,this.translations,this.locale)}catch(r){return this.onError(r),""}}translationKeyExists(t,n=!1){try{const r=Vt(t,this.translations,this.locale);return n?typeof r=="string":!0}catch{return!1}}formatNumber(t,{as:n,precision:r,...i}={}){const{locale:o,defaultCurrency:u}=this;return n==="currency"&&u==null&&i.currency==null?(this.onError(new vr("formatNumber(amount, {as: 'currency'}) cannot be called without a currency code.")),""):Ae(o,{style:n,maximumFractionDigits:r,currency:u,...i}).format(t)}unformatNumber(t){const{decimalSymbol:n}=this.numberSymbols(),r=this.normalizedNumber(t,n);return r===""?"":parseFloat(r).toString()}formatCurrency(t,{form:n,...r}={}){switch(n){case"auto":return this.formatCurrencyAuto(t,r);case"explicit":return this.formatCurrencyExplicit(t,r);case"short":return this.formatCurrencyShort(t,r);case"none":return this.formatCurrencyNone(t,r);default:return this.formatCurrencyAuto(t,r)}}unformatCurrency(t,n){const{decimalSymbol:r}=this.numberSymbols(),i=Fr.get(n.toUpperCase()),o=this.normalizedNumber(t,r,i);return o===""?"":i===0?`${parseFloat(o).toFixed(0)}.${"0".repeat(Yt)}`:parseFloat(o).toFixed(i)}formatPercentage(t,n={}){const{percentageSignDisplay:r="auto",...i}=n;if(r==="auto")return this.formatNumber(t,{as:"percent",...i});const{locale:o}=this;return Ae(o,{style:"percent",...i}).formatToParts(t).filter(a=>a.type!=="literal"&&a.type!=="percentSign").map(a=>a.value).join("")}formatDate(t,n={}){const{locale:r,defaultTimezone:i}=this,{timeZone:o=i}=n,{style:u=void 0,...a}=n||{};if(u)switch(u){case ie.Humanize:return this.humanizeDate(t,{...a,timeZone:o});case ie.DateTime:return this.formatDateTime(t,{...a,timeZone:o,...br[u]});default:return this.formatDate(t,{...a,...br[u]})}return De(t,r,{...a,timeZone:o})}ordinal(t){const{locale:n}=this,r=dt(n,{type:"ordinal"}).select(t);return this.translate(r,{scope:"ordinal"},{amount:t})}weekStartDay(t){const n=t||this.defaultCountry;if(!n)throw new sa("weekStartDay() cannot be called without a country code.");return oa.get(n)||ia}getCurrencySymbolLocalized(t,n){return this.getShortCurrencySymbol(n,t)}formatName(t,n,r){return ki({name:{givenName:t,familyName:n},locale:this.locale,options:r})}abbreviateName({firstName:t,lastName:n,idealMaxLength:r=3}){return Yu({name:{givenName:t,familyName:n},locale:this.locale,options:{idealMaxLength:r}})}abbreviateBusinessName({name:t,idealMaxLength:n=3}){return Xu({name:t,idealMaxLength:n})}identifyScript(t){return ya(t)}hasEasternNameOrderFormatter(){return Ju(this.locale)}formatCurrencyAuto(t,n={}){return n.currency==null||this.defaultCurrency==null||n.currency===this.defaultCurrency?this.formatCurrencyShort(t,n):this.formatCurrencyExplicit(t,n)}formatCurrencyExplicit(t,n={}){const r=this.formatCurrencyShort(t,n),i=n.currency||this.defaultCurrency||"";return r.includes(i)?r:`${r} ${i}`}formatCurrencyShort(t,n={}){var r;const i=this.formatCurrencyNone(t,n),u=((r=new RegExp(`${Q.DirectionControl}*${Q.Negative}`,"g").exec(i))===null||r===void 0?void 0:r.shift())||"",a=this.getShortCurrencySymbol(n.currency),s=a.prefixed?`${a.symbol}${i}`:`${i}${a.symbol}`;return`${u}${s.replace(u,"")}`}formatCurrencyNone(t,n={}){const{locale:r}=this;let i=n.precision;if(i===void 0){const o=n.currency||this.defaultCurrency||"";i=Fr.get(o.toUpperCase())}return Ae(r,{style:"decimal",minimumFractionDigits:i,maximumFractionDigits:i,...n}).format(t)}getShortCurrencySymbol(t=this.defaultCurrency||"",n=this.locale){const r=t.substring(0,2);let i;try{i=Ar(n,{currency:t,currencyDisplay:"narrowSymbol"})}catch{i=Ar(n,{currency:t})}if(t in Dr)return{symbol:Dr[t],prefixed:i.prefixed};const o=i.symbol.replace(r,"");return/[A-Za-zÀ-ÖØ-öø-ÿĀ-ɏḂ-ỳ]/.exec(o)?i:{symbol:o,prefixed:i.prefixed}}humanizeDate(t,n){return Ne(t)?this.humanizeFutureDate(t,n):this.humanizePastDate(t,n)}formatDateTime(t,n){const{defaultTimezone:r}=this,{timeZone:i=r}=n;return this.translate("date.humanize.lessThanOneYearAway",{date:this.getDateFromDate(t,{...n,timeZone:i}),time:this.getTimeFromDate(t,{...n,timeZone:i})})}humanizePastDate(t,n){if(Nu(t))return this.translate("date.humanize.lessThanOneMinuteAgo");if(Bu(t)){const u=Math.floor((new Date().getTime()-t.getTime())/be.Minute);return this.translate("date.humanize.lessThanOneHourAgo",{count:u})}const r=n==null?void 0:n.timeZone,i=this.getTimeFromDate(t,n);if(hr(t,r))return i;if(Gu(t,r))return this.translate("date.humanize.yesterday",{time:i});if(Mu(t)){const o=this.getWeekdayFromDate(t,n);return this.translate("date.humanize.lessThanOneWeekAgo",{weekday:o,time:i})}if(ju(t)){const o=this.getMonthDayFromDate(t,n);return this.translate("date.humanize.lessThanOneYearAgo",{date:o,time:i})}return this.formatDate(t,{...n,style:ie.Short})}humanizeFutureDate(t,n){const r=n==null?void 0:n.timeZone,i=this.getTimeFromDate(t,n);if(hr(t,r))return this.translate("date.humanize.today",{time:i});if(qu(t,r))return this.translate("date.humanize.tomorrow",{time:i});if(zu(t)){const o=this.getWeekdayFromDate(t,n);return this.translate("date.humanize.lessThanOneWeekAway",{weekday:o,time:i})}if(Uu(t)){const o=this.getMonthDayFromDate(t,n);return this.translate("date.humanize.lessThanOneYearAway",{date:o,time:i})}return this.formatDate(t,{...n,style:ie.Short})}getTimeZone(t,n){const{localeMatcher:r,formatMatcher:i,timeZone:o}=n||{},u=this.formatDate(t,{localeMatcher:r,formatMatcher:i,timeZone:o,hour12:!1,timeZoneName:"short",hour:"numeric"}),a=/\s([\w()+\-:.]+$)/.exec(u);return a?a[1]:""}getDateFromDate(t,n){const{localeMatcher:r,formatMatcher:i,weekday:o,day:u,month:a,year:s,era:l,timeZone:f,timeZoneName:c}=n||{};return this.formatDate(t,{localeMatcher:r,formatMatcher:i,weekday:o,day:u,month:a,year:s,era:l,timeZone:f,timeZoneName:c==="short"?void 0:c})}getTimeFromDate(t,n){const{localeMatcher:r,formatMatcher:i,hour12:o,timeZone:u,timeZoneName:a}=n||{},s=this.formatDate(t,{localeMatcher:r,formatMatcher:i,hour12:o,timeZone:u,timeZoneName:a==="short"?void 0:a,hour:"numeric",minute:"2-digit"}).toLocaleLowerCase(),l=a==="short"?`${s} ${this.getTimeZone(t,n)}`:s;return Da(l)}getWeekdayFromDate(t,n){const{localeMatcher:r,formatMatcher:i,hour12:o,timeZone:u}=n||{};return this.formatDate(t,{localeMatcher:r,formatMatcher:i,hour12:o,timeZone:u,weekday:"long"})}getMonthDayFromDate(t,n){const{localeMatcher:r,formatMatcher:i,hour12:o,timeZone:u}=n||{};return this.formatDate(t,{localeMatcher:r,formatMatcher:i,hour12:o,timeZone:u,month:"short",day:"numeric"})}normalizedNumber(t,n,r=Yt){const i=Math.max(r,Yt),o=t.lastIndexOf(Kt);let u=t.lastIndexOf(n);n!==Kt&&(t.match(Ea)||[]).length===1&&this.decimalValue(t,o).length<=i&&(u=o);const a=this.integerValue(t,u),s=this.decimalValue(t,u),l=new RegExp(`^(${Q.DirectionControl}|\\s)*${Q.Negative}`,"u"),h=`${t.match(l)?va:""}${a}${u===-1?"":Kt}${s}`;return h.match(Ca)?h:""}integerValue(t,n){return t.substring(0,n).replace(xr,"")}decimalValue(t,n){return t.substring(n+1).replace(xr,"")}isTranslateOptions(t){return"scope"in t}defaultOnError(t){throw t}}function Fa(e){const t=G.useContext(wi);if(t==null)throw new Error("Missing i18n manager. Make sure to use an <I18nContext.Provider /> somewhere in your React tree.");const n=G.useRef(e);if(wr(n.current)!==wr(e))throw new Error("You switched between providing registration options and not providing them, which is not supported.");return Aa(t)}function Aa(e){return[G.useContext(Au)||new Sa([],e.details),xa]}function xa({children:e}){return G.createElement(G.Fragment,null,e)}function wr({fallback:e,translations:t}={}){return e!=null||t!=null}function wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xn={};Object.defineProperty(xn,"__esModule",{value:!0});var Mi=xn.styleq=void 0,Ta=new WeakMap,Ia="$$css";function zi(e){var t,n,r;return e!=null&&(t=e.disableCache===!0,n=e.disableMix===!0,r=e.transform),function(){for(var o=[],u="",a=null,s=t?null:Ta,l=new Array(arguments.length),f=0;f<arguments.length;f++)l[f]=arguments[f];for(;l.length>0;){var c=l.pop();if(!(c==null||c===!1)){if(Array.isArray(c)){for(var h=0;h<c.length;h++)l.push(c[h]);continue}var d=r!=null?r(c):c;if(d.$$css){var b="";if(s!=null&&s.has(d)){var C=s.get(d);C!=null&&(b=C[0],o.push.apply(o,C[1]),s=C[2])}else{var m=[];for(var D in d){var y=d[D];D!==Ia&&(typeof y=="string"||y===null?o.includes(D)||(o.push(D),s!=null&&m.push(D),typeof y=="string"&&(b+=b?" "+y:y)):console.error("styleq: ".concat(D," typeof ").concat(String(y),' is not "string" or "null".')))}if(s!=null){var p=new WeakMap;s.set(d,[b,m,p]),s=p}}b&&(u=u?b+" "+u:b)}else if(n)a==null&&(a={}),a=Object.assign({},d,a);else{var S=null;for(var v in d){var R=d[v];R!==void 0&&(o.includes(v)||(R!=null&&(a==null&&(a={}),S==null&&(S={}),S[v]=R),o.push(v),s=null))}S!=null&&(a=Object.assign(S,a))}}}var x=[u,a];return x}}var ji=zi();Mi=xn.styleq=ji;ji.factory=zi;function F(){const e=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Tr.props)return Tr.props.call(e,n);const[i,o]=Mi(n),u={};return i!=null&&i!==""&&(u.className=i),o!=null&&Object.keys(o).length>0&&(u.style=o),u}const Tr={},$a={reset:{display:"x1lliihq",margin:"x1ghz6dp",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,padding:"x1717udv",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,fontFamily:"xjb2p0i",fontWeight:"x1pd3egz",fontSize:"x1qlqyl8",lineHeight:"xggjnk3",textDecoration:"x1hl2dhg",textDecorationColor:null,textDecorationLine:null,textDecorationStyle:null,textDecorationThickness:null,color:"x1heor9g",backgroundColor:"xjbqb8w",border:"x1wty727",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,outline:"x1b6ykf0",outlineColor:null,outlineOffset:null,outlineStyle:null,outlineWidth:null,boxShadow:"x1gnnqk1",textTransform:"x6mezaz",WebkitAppearance:"x14y7zgk",boxSizing:"x9f619",minHeight:"x2lwn1j",width:"x10rsq8x",height:"xdi48bf",$$css:!0}},A=$a.reset,B=e=>({"data-essential-upsell-element":e}),ka=({products:e})=>e.map(t=>Ei({product:t})),fn=({funnel:e})=>e.content.offerType?e.content.offerType:Te.CROSS_SELL;var Bt=function(t){return G.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),G.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};Bt.displayName="CheckIcon";var Ui=function(t){return G.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),G.createElement("path",{fillRule:"evenodd",d:"M5.72 8.47a.75.75 0 0 1 1.06 0l3.47 3.47 3.47-3.47a.75.75 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06Z"}))};Ui.displayName="ChevronDownIcon";var Hi=function(t){return G.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),G.createElement("path",{fillRule:"evenodd",d:"M11.764 5.204a.75.75 0 0 1 .032 1.06l-3.516 3.736 3.516 3.736a.75.75 0 1 1-1.092 1.028l-4-4.25a.75.75 0 0 1 0-1.028l4-4.25a.75.75 0 0 1 1.06-.032Z"}))};Hi.displayName="ChevronLeftIcon";var Wi=function(t){return G.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),G.createElement("path",{fillRule:"evenodd",d:"M7.72 14.53a.75.75 0 0 1 0-1.06l3.47-3.47-3.47-3.47a.75.75 0 0 1 1.06-1.06l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0Z"}))};Wi.displayName="ChevronRightIcon";var wn=function(t){return G.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),G.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};wn.displayName="PlusIcon";const Gi={container:{overflowX:"xw2csxc",scrollSnapType:"xhfbhpw",scrollSnapTypeX:null,scrollSnapTypeY:null,scrollBehavior:"xkcv6ua",gap:"x883omv",rowGap:null,columnGap:null,containerType:"x12h1iku",scrollbarWidth:"x1rohswg","::-webkit-scrollbar_display":"xfk6m8",display:"xrvj5dj",gridAutoFlow:"x1mt1orb",$$css:!0}},N={container:{display:"x78zum5",gap:"x1v2ro7d",rowGap:null,columnGap:null,alignItems:"x6s0dn4",paddingLeft:"xzjhap9",paddingInlineStart:null,paddingInlineEnd:null,paddingRight:"x19tmk5i",borderStyle:"x1y0btm7",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,scrollSnapAlign:"x1bhewko",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexWrap:"x1a02dak xvfe9fk",$$css:!0},borderRadius:e=>[{borderRadius:"x1psujx9",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},{"--borderRadius":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],borderWidth:e=>[{borderWidth:"x1rihvjd",borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,$$css:!0},{"--borderWidth":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],borderColor:e=>[{borderColor:"xeqt46j",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0},{"--borderColor":e??"initial"}],paddingTop:e=>[{paddingTop:"xbobb8a",$$css:!0},{"--paddingTop":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],paddingBottom:e=>[{paddingBottom:"x9q6w0x",$$css:!0},{"--paddingBottom":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],backgroundColor:e=>[{backgroundColor:"xq1mx2j",$$css:!0},{"--backgroundColor":e??"initial"}],fontSize:e=>[{fontSize:"x13jbg0v",$$css:!0},{"--fontSize":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],color:e=>[{color:"x19dipnz",$$css:!0},{"--color":e??"initial"}],containerBackgroundGradient:(e,t,n)=>[{background:"xzp4kpb",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,$$css:!0},{"--background":`linear-gradient(${n}deg, ${e}, ${t})`!=null?`linear-gradient(${n}deg, ${e}, ${t})`:"initial"}],imageContainer:{height:"x1peatla",width:"x1fu8urw",borderRadius:"x12oqio5",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,overflow:"xb3r6kr",overflowX:null,overflowY:null,flexShrink:"x2lah0s",$$css:!0},img:{width:"xh8yej3",height:"x5yr21d",objectFit:"xl1xv1r",$$css:!0},contentContainer:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",gap:"x1v2ro7d",rowGap:null,columnGap:null,flexGrow:"x1iyjqo2",minWidth:"xeuugli",flexBasis:"x1l7klhg x1li4bm7",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x14ic1c9",flexShrink:"xs83m0k",minWidth:"xeuugli",gap:"x195vfkc",rowGap:null,columnGap:null,$$css:!0},title:{display:"x1lliihq",color:"xsljb9f",fontSize:"xif65rj",lineHeight:"x1fc57z9",textWrap:"xebhuq6",overflow:"xb3r6kr",overflowX:null,overflowY:null,textOverflow:"xlyipyv",textDecoration:"x1hl2dhg",textDecorationColor:null,textDecorationLine:null,textDecorationStyle:null,textDecorationThickness:null,$$css:!0},buttonContainer:{display:"x78zum5",alignItems:"x6s0dn4",flexShrink:"x2lah0s",maxWidth:"x193iq5w x1vff8rb",width:"xezivpi",flexGrow:"x1iyjqo2 x9df8bu",flexBasis:"x1r8uery",$$css:!0}},z={container:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",gap:"x17d4w8g",rowGap:null,columnGap:null,flexShrink:"xs83m0k",flexGrow:"x1iyjqo2",fontWeight:"xk50ysn",padding:"x1uipwii",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,cursor:"x1ypdohk",$$css:!0},widthMaxContent:{width:"xezivpi",$$css:!0},backgroundColor:e=>[{backgroundColor:"xq1mx2j",$$css:!0},{"--backgroundColor":e??"initial"}],fontSize:e=>[{fontSize:"x13jbg0v",$$css:!0},{"--fontSize":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],color:e=>[{color:"x19dipnz",$$css:!0},{"--color":e??"initial"}],borderRadius:e=>[{borderRadius:"x1psujx9",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},{"--borderRadius":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],size:e=>[{height:"x1jwls1v",width:"x17fnjtu",$$css:!0},{"--height":(t=>typeof t=="number"?t+"px":t??"initial")(`calc(${e}px + 4px)`),"--width":(t=>typeof t=="number"?t+"px":t??"initial")(`calc(${e}px + 4px)`)}],fill:e=>[{fill:"xffa9am",$$css:!0},{"--fill":e??"initial"}],disabled:{opacity:"xbyyjgo",cursor:"x1ipiool",$$css:!0},icon:{flexShrink:"x2lah0s",$$css:!0}},pt=Je(function({funnel:t,children:n},r){return g("div",{ref:r,...B("product"),...F(A,N.container,N.borderRadius(t.design.borderRadius),N.borderWidth(t.design.borderSize),N.borderColor(t.design.borderColor),N.paddingTop(t.design.insideTopSpacing),N.paddingBottom(t.design.insideBottomSpacing),t.design.backgroundType===Fi.MONOCHROME?N.backgroundColor(t.design.monochromeBackgroundColor):N.containerBackgroundGradient(t.design.gradientBackgroundStartColor,t.design.gradientBackgroundEndColor,t.design.gradientBackgroundAngle)),children:n})}),Nt=({children:e})=>g("div",{...B("content-container"),...F(A,N.contentContainer),children:e}),Ra=({children:e})=>g("div",{...B("content"),...F(A,N.content),children:e}),Pa=({product:e,funnel:t})=>g("a",{...B("title"),...F(A,N.title,N.fontSize(t.design.productTitleSize),N.color(t.design.productTitleColor),N.borderRadius(t.design.borderRadius)),href:e.url,target:"_blank",children:e.title}),gt=({product:e,funnel:t,isTargetProduct:n=!1})=>{if(!t)return e.variants;let r=t.upsell.specificProducts;if(n&&fn({funnel:t})===Te.FREQUENTLY_BOUGHT_TOGETHER)r=t.placement.specificProducts;else if(t.upsell.productsType!==Y.SPECIFIC)return e.variants;const i=r.find(a=>a.shopifyHandle===e.handle||a.shopifyId===`gid://shopify/Product/${e.id}`||a.shopifyId===String(e.id));if(!i)return e.variants;const o=i.variantIds;if(!o||!Array.isArray(o)||o.length===0)return e.variants;const u=e.variants.filter(a=>o.includes(String(a.id))||o.includes(`gid://shopify/ProductVariant/${a.id}`));return u.length>0?u:e.variants},Re={container:{display:"x78zum5",$$css:!0},innerContainer:{marginLeft:"x11yfylt",marginInlineStart:null,marginInlineEnd:null,position:"x1n2onr6",display:"x78zum5",alignItems:"x6s0dn4",maxWidth:"x193iq5w",$$css:!0},select:{background:"x1md70p1 x14hn1a8",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,fieldSizing:"x5f5z56",paddingLeft:"x6wrskw",paddingInlineStart:null,paddingInlineEnd:null,paddingBlock:"x12ulsxz",paddingTop:null,paddingBottom:null,paddingRight:"x1oou3sl",borderRadius:"xur7f20",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,maxWidth:"x193iq5w",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},fontSize:e=>[{fontSize:"x13jbg0v",$$css:!0},{"--fontSize":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],color:e=>[{color:"x19dipnz",$$css:!0},{"--color":e??"initial"}],icon:{position:"x10l6tqk",pointerEvents:"x47corl",left:"x11e977z",insetInlineStart:null,insetInlineEnd:null,height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},fill:e=>[{fill:"xffa9am",$$css:!0},{"--fill":e??"initial"}]},Oa=({funnel:e,product:t,currentVariant:n,setCurrentVariant:r,isTargetProduct:i=!1})=>{if(t.variants.length<2)return null;const o=gt({product:t,funnel:e,isTargetProduct:i});return g("div",{...B("variant-select"),...F(A,Re.container),children:g("div",{...B("container"),...F(A,Re.innerContainer),children:[g("select",{...F(A,Re.select,Re.fontSize(e.design.productVariantSize),Re.color(e.design.productVariantColor)),value:n==null?void 0:n.id,onChange:u=>{u.stopPropagation();const a=`${u.target.value}`,s=o.find(l=>`${l.id}`===a);s&&r(s)},children:o.map(u=>Z("option",{...F(A),key:u.id,value:u.id,disabled:!u.available},u.title))}),g("div",{...B("icon"),...F(A,Re.icon,Re.fill(e.design.productVariantColor)),children:g(Ui,{...F(A)})})]})})},La=({price:e})=>e<0?0:e,Ba=({price:e})=>Math.ceil(e*100-1e-10)/100,qi=({price:e})=>Ba({price:La({price:e})}),Na=({funnel:e,variant:t})=>e.upsell.discountType!==Se.NONE||!t.compare_at_price?t.price:t.compare_at_price>t.price?t.compare_at_price:t.price,Vi=({funnel:e,variant:t})=>qi({price:Na({funnel:e,variant:t})}),Ge=e=>{if(/^\d+$/.test(e))return e;const t=e.match(/\/Product\/(\d+)$/);if(t)return t[1];const n=e.match(/\/Collection\/(\d+)$/);return n?n[1]:e},Yi=({product:e,funnel:t,variant:n,currency:r,isTargetProduct:i=!1,productPageCollectionIds:o})=>qi({price:Ma({product:e,funnel:t,variant:n,currency:r,isTargetProduct:i,productPageCollectionIds:o})}),Ma=({product:e,funnel:t,variant:n,currency:r,isTargetProduct:i,productPageCollectionIds:o})=>{if(t.upsell.discountType===Se.PERCENTAGE)return Ki(n.price,t.upsell.discountValue);if(t.upsell.discountType===Se.FIXED_AMOUNT)return Xi(n.price,t.upsell.discountValue,r.rate);if(t.upsell.discountType===Se.CUSTOM){if(t.content.offerType===Te.CROSS_SELL){const u=Ir(e,t);if(u)return Xt(n.price,u,r.rate)}if(t.content.offerType===Te.FREQUENTLY_BOUGHT_TOGETHER)if(i){const u=za(e,t,o);if(u)return Xt(n.price,u,r.rate)}else{const u=Ir(e,t);if(u)return Xt(n.price,u,r.rate)}}return n.price},Xt=(e,t,n)=>t.discountType===Se.PERCENTAGE?Ki(e,t.discountValue):t.discountType===Se.FIXED_AMOUNT?Xi(e,t.discountValue,n):e,Ki=(e,t)=>e-e/100*t,Xi=(e,t,n)=>e-t*parseFloat(n),za=(e,t,n)=>{var i;if(!((i=t.placement)!=null&&i.triggerType))return null;const{triggerType:r}=t.placement;if(r==="ALL"&&t.upsell.customDiscounts)return t.upsell.customDiscounts.find(o=>o.triggerType===r&&o.productsType===null);if(r==="SPECIFIC_PRODUCTS"&&t.placement.specificProducts){const o=t.upsell.customDiscounts.find(u=>{if(u.triggerType!=="SPECIFIC_PRODUCTS"||u.productsType!==null||!u.shopifyId)return!1;const a=Ge(u.shopifyId);return Ge(e.id.toString())===a});if(o)return o}if(r==="SPECIFIC_COLLECTIONS"&&(n!=null&&n.length)&&t.upsell.customDiscounts){const o=t.upsell.customDiscounts.filter(u=>u.triggerType==="SPECIFIC_COLLECTIONS"&&u.productsType===null&&u.shopifyId&&u.discountValue>0);for(const u of o){const a=Ge(u.shopifyId);if(n.map(l=>Ge(l)).includes(a))return u}}return null},Ir=(e,t)=>{if(!t.upsell.productsType)return null;const{productsType:n}=t.upsell;return n===Y.SPECIFIC?t.upsell.customDiscounts.find(r=>{if(r.productsType!==Y.SPECIFIC||r.triggerType!==null||!r.shopifyId)return!1;const i=Ge(r.shopifyId);return Ge(e.id.toString())===i}):n===Y.RECOMMENDATIONS_API?t.upsell.customDiscounts.find(r=>r.productsType===Y.RECOMMENDATIONS_API&&r.triggerType===null&&!r.shopifyId):null},Ce=({price:e,precision:t,numberSymbols:n})=>{const i=e.toFixed(t).split("."),o=i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n.thousandSymbol),u=i[1]?n.decimalSymbol+i[1]:"";return o+u},ja=({price:e,shopMoneyFormat:t,numberSymbols:n})=>{const r=/{{\s*(\w+)\s*}}/;return t.replace(r,(i,o)=>{switch(o){case"amount":return Ce({price:e,precision:2,numberSymbols:n});case"amount_no_decimals":return Ce({price:e,precision:0,numberSymbols:n});case"amount_with_comma_separator":return Ce({price:e,precision:2,numberSymbols:n});case"amount_no_decimals_with_comma_separator":return Ce({price:e,precision:0,numberSymbols:n});case"amount_with_apostrophe_separator":return Ce({price:e,precision:2,numberSymbols:{...n,thousandSymbol:"'"}});case"amount_no_decimals_with_space_separator":return Ce({price:e,precision:0,numberSymbols:{...n,thousandSymbol:" "}});case"amount_with_space_separator":return Ce({price:e,precision:2,numberSymbols:{thousandSymbol:" ",decimalSymbol:","}});case"amount_with_period_and_space_separator":return Ce({price:e,precision:2,numberSymbols:{thousandSymbol:" ",decimalSymbol:"."}});default:return i}})},Mt=({price:e,shopMoneyFormat:t})=>{const[n]=Fa();return{formattedPrice:T(()=>{if(isNaN(e))return"";const i=n.numberSymbols();return ja({price:e,shopMoneyFormat:t,numberSymbols:i})},[e,t,n])}},Zt={container:{display:"x78zum5",$$css:!0},fontSize:e=>[{fontSize:"x13jbg0v",$$css:!0},{"--fontSize":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],color:e=>[{color:"x19dipnz",$$css:!0},{"--color":e??"initial"}]},Ua=({discountedPrice:e,funnel:t,shopMoneyFormat:n})=>{const{formattedPrice:r}=Mt({price:e,shopMoneyFormat:n});return g("div",{...B("discounted-price"),"data-discounted-price-value":e,...F(A,Zt.container,Zt.fontSize(t.design.discountedPriceSize),Zt.color(t.design.discountedPriceColor)),dangerouslySetInnerHTML:{__html:r}})},Et={container:{display:"x78zum5",$$css:!0},fontSize:e=>[{fontSize:"x13jbg0v",$$css:!0},{"--fontSize":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],color:e=>[{color:"x19dipnz",$$css:!0},{"--color":e??"initial"}],discounted:{textDecoration:"xmqliwb",textDecorationColor:null,textDecorationLine:null,textDecorationStyle:null,textDecorationThickness:null,$$css:!0}},Ha=({funnel:e,regularPrice:t,isDiscounted:n,shopMoneyFormat:r})=>{const{formattedPrice:i}=Mt({price:t,shopMoneyFormat:r});return g("div",{...B("regular-price"),"data-regular-price-value":t,...F(A,Et.container,Et.fontSize(e.design.productPriceSize),Et.color(e.design.productPriceColor),n&&Et.discounted),dangerouslySetInnerHTML:{__html:i}})},Wa={container:{display:"x78zum5",gap:"x1jnr06f",rowGap:null,columnGap:null,$$css:!0}},Ga=({product:e,funnel:t,currentVariant:n,currency:r,shopMoneyFormat:i,isTargetProduct:o,productPageCollectionIds:u})=>{const a=T(()=>Vi({variant:n,funnel:t}),[n,t]),s=T(()=>Yi({product:e,funnel:t,variant:n,currency:r,isTargetProduct:o,productPageCollectionIds:u}),[e,t,n,r,o,u]),l=T(()=>s<a,[a,s]);return g("div",{...B("price"),...F(A,Wa.container),children:[l&&g(Ua,{discountedPrice:s,funnel:t,shopMoneyFormat:i}),g(Ha,{regularPrice:a,funnel:t,shopMoneyFormat:i,isDiscounted:l})]})},qa=({product:e,funnel:t,currentVariant:n,currency:r,shopMoneyFormat:i,isTargetProduct:o,productPageCollectionIds:u})=>n?g(Ga,{funnel:t,product:e,currentVariant:n,currency:r,shopMoneyFormat:i,isTargetProduct:o,productPageCollectionIds:u}):null,ue={Root:Ra,Title:Pa,VariantSelect:Oa,Price:qa},Qe={imageContainer:{background:"xc3lflq",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,opacity:"xbyyjgo",$$css:!0},title:{height:"x1qx5ct2",maxWidth:"xazcve0",background:"xc3lflq",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,opacity:"xbyyjgo",$$css:!0},select:{height:"x10c73hc",maxWidth:"x10739mo",background:"xc3lflq",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,opacity:"xbyyjgo",$$css:!0},button:{background:"xc3lflq",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,color:"x1srt04",opacity:"xbyyjgo",$$css:!0},icon:{fill:"x16htl4h",$$css:!0}},Zi=({funnel:e})=>g(te,{children:[g(Nt,{children:[g("div",{...F(A,N.imageContainer,Qe.imageContainer)}),g(ue.Root,{children:[g("div",{...F(A,N.title,N.borderRadius(e.design.borderRadius),Qe.title)}),g("div",{...F(A,Qe.select,N.borderRadius(e.design.borderRadius))})]})]}),g("div",{...F(A,N.buttonContainer),children:g("button",{type:"button",...F(A,z.container,z.widthMaxContent,z.fontSize(e.design.buttonTextSize),z.color(e.design.buttonTextColor),z.borderRadius(e.design.buttonBorderRadius),Qe.button),children:[g("div",{...F(A,z.size(e.design.buttonTextSize),Qe.icon),children:g(wn,{})}),e.content.buttonText]})})]}),Tn=Je(function({funnel:t},n){return g(pt,{funnel:t,ref:n,children:g(Zi,{funnel:t})})});Tn.Content=Zi;const Va=({ref:e})=>{const[t,n]=U(!1),r=ye(null);return q(()=>{if(!e.current)return;r.current&&r.current.disconnect(),r.current=new IntersectionObserver(([o])=>{t!==o.isIntersecting&&n(o.isIntersecting)}),r.current.observe(e.current);const i=r.current;return()=>{i.disconnect()}},[e,t]),{isVisible:t}},Ya=({product:e,currentVariant:t})=>{var n;return(n=t==null?void 0:t.featured_image)!=null&&n.src?t.featured_image.src:e.featured_image?e.featured_image:null},Ka=({product:e,currentVariant:t})=>{const n=Ya({product:e,currentVariant:t});if(n)return n.endsWith(".svg")?n:`${n}&width=128`},Xa={img:{width:"xh8yej3",height:"x5yr21d",objectFit:"xl1xv1r",$$css:!0}},Ji=({product:e,currentVariant:t})=>g("a",{...B("image-container"),...F(A,N.imageContainer),href:e.url,target:"_blank",children:e.featured_image&&g("img",{...B("image"),...F(A,Xa.img),src:Ka({product:e,currentVariant:t}),alt:e.title})}),Za={container:{animationName:"xnjvcao",animationDuration:"xxkxylk",animationIterationCount:"xa4qsjk",animationTimingFunction:"x1esw782",$$css:!0}},Qi=e=>g("svg",{...F(A,Za.container),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",...e,children:g("path",{d:"M7.229 1.173a9.25 9.25 0 1 0 11.655 11.412 1.25 1.25 0 1 0-2.4-.698 6.75 6.75 0 1 1-8.506-8.329 1.25 1.25 0 1 0-.75-2.385z"})}),Ja=()=>{var e;return typeof window<"u"&&(window!=null&&window.Shopify)&&((e=window.Shopify)==null?void 0:e.locale)||""},In=({funnel:e})=>{const t=Ja(),n=o=>{if(!e.contentTranslations)return null;const u=e.contentTranslations.find(a=>a.locale===t&&a.type===cn.LOCAL&&a.offerType===e.content.offerType);return u&&u[o]?u[o]:null},r=o=>{if(!e.contentTranslations)return null;const u=e.contentTranslations.find(a=>a.locale===t&&a.type===cn.GLOBAL&&a.offerType===e.content.offerType);return u&&u[o]?u[o]:null};return{findLocalTranslation:n,findGlobalTranslation:r,$contentTranslation:(o,u)=>n(o)||r(o)||u}},Qa=({isLoading:e,isSuccess:t})=>e?g(Qi,{}):t?g(Bt,{...F(A)}):g(wn,{...F(A)}),es=({funnel:e,currentVariant:t,addToCart:n})=>{const[r,i]=U(!1),[o,u]=U(!1),{$contentTranslation:a}=In({funnel:e}),s=T(()=>t?!t.available:!0,[t]),l=ee(async()=>{if(!s){u(!1),i(!0);try{await n({items:[{id:t.id,quantity:1,properties:{__essential_upsell_funnel_id:e.id}}]})}finally{i(!1)}u(!0)}},[s,t,e,n]);return g("button",{...B("add-to-cart-button"),type:"button",...F(A,z.container,z.widthMaxContent,z.backgroundColor(e.design.buttonBackgroundColor),z.fontSize(e.design.buttonTextSize),z.color(e.design.buttonTextColor),z.borderRadius(e.design.buttonBorderRadius),s&&z.disabled),onClick:l,disabled:s,children:[g("div",{...B("icon"),...F(A,z.icon,z.size(e.design.buttonTextSize),z.fill(e.design.buttonTextColor)),children:g(Qa,{isLoading:r,isSuccess:o})}),a("buttonText",e.content.buttonText)]})},hn=({product:e,funnel:t,isTargetProduct:n=!1})=>{if(!e||!e.variants||!e.variants.length)return null;const r=nt(),i=gt({product:e,funnel:t,isTargetProduct:n});if(r){const u=i.find(a=>a.id.toString()===r);if(u)return u}return i.filter(u=>u.available)[0]||i[0]||e.variants[0]},ts=({funnel:e,product:t,addToCart:n,currency:r,shopMoneyFormat:i})=>{const[o,u]=U(hn({product:t,funnel:e,isTargetProduct:!1}));return q(()=>{t&&u(hn({product:t,funnel:e,isTargetProduct:!1}))},[t,e]),g(te,{children:[g(Nt,{children:[g(Ji,{product:t,currentVariant:o}),g(ue.Root,{children:[g(ue.Title,{product:t,funnel:e}),g(ue.VariantSelect,{funnel:e,product:t,currentVariant:o,setCurrentVariant:u,isTargetProduct:!1}),o&&g(ue.Price,{product:t,funnel:e,currentVariant:o,currency:r,shopMoneyFormat:i,isTargetProduct:!1,productPageCollectionIds:[]})]})]}),g("div",{...B("button-container"),...F(A,N.buttonContainer),children:g(es,{funnel:e,currentVariant:o,addToCart:n})})]})},$r=({handle:e,funnel:t,addToCart:n,currency:r,shopMoneyFormat:i,getProduct:o,setProductStates:u})=>{const[a,s]=U(!1),[l,f]=U(null),c=ye(null),{isVisible:h}=Va({ref:c});return q(()=>{c.current&&u(d=>({...d,[e]:{isVisible:h,ref:c}}))},[h,e,u]),q(()=>{a||l||h&&(s(!0),(async()=>{try{const d=await o({handle:e});f(d)}catch(d){console.log({error:d}),s(!1)}})())},[a,l,h,o,e]),g(pt,{ref:c,funnel:t,children:l?g(ts,{funnel:t,product:l,addToCart:n,currency:r,shopMoneyFormat:i}):g(Tn.Content,{funnel:t})})};var eo={};Object.defineProperty(eo,"__esModule",{value:!0});function ns(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=e[i];t.push({minWidth:o.minWidth!=null?o.minWidth:0,maxWidth:o.maxWidth!=null?o.maxWidth:1/0,minHeight:o.minHeight!=null?o.minHeight:0,maxHeight:o.maxHeight!=null?o.maxHeight:1/0,className:i})}return function(u){for(var a=u.height,s=u.width,l={},f=0,c=t;f<c.length;f++){var h=c[f],d=h.className,b=h.minWidth,C=h.maxWidth,m=h.minHeight,D=h.maxHeight;a!=null&&s!=null?l[d]=b<=s&&s<=C&&m<=a&&a<=D:a==null&&s!=null?l[d]=b<=s&&s<=C:a!=null&&s==null?l[d]=m<=a&&a<=D:l[d]=!0}return l}}var to=eo.default=ns,no={},ro={exports:{}},rs=ro.exports={};rs.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var io=ro.exports,is=function(e){var t=e.stateHandler.getState;function n(u){var a=t(u);return a&&!!a.isDetectable}function r(u){t(u).isDetectable=!0}function i(u){return!!t(u).busy}function o(u,a){t(u).busy=!!a}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:o}},os=function(e){var t={};function n(u){var a=e.get(u);return a===void 0?[]:t[a]||[]}function r(u,a){var s=e.get(u);t[s]||(t[s]=[]),t[s].push(a)}function i(u,a){for(var s=n(u),l=0,f=s.length;l<f;++l)if(s[l]===a){s.splice(l,1);break}}function o(u){var a=n(u);a&&(a.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:o}},us=function(){var e=1;function t(){return e++}return{generate:t}},as=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(o){var u=n(o);return u&&u.id!==void 0?u.id:null}function i(o){var u=n(o);if(!u)throw new Error("setId required the element to have a resize detection state.");var a=t.generate();return u.id=a,a}return{get:r,set:i}},ss=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,o){i[o]=function(){var a=console[o];if(a.apply)a.apply(console,arguments);else for(var s=0;s<arguments.length;s++)a(arguments[s])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},oo={exports:{}},uo=oo.exports={};uo.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,o=document.createElement("div"),u=o.getElementsByTagName("i");do o.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(u[0]);return i>4?i:r}();return e===n};uo.isLegacyOpera=function(){return!!window.opera};var ao=oo.exports,so={exports:{}},ls=so.exports={};ls.getOption=cs;function cs(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var ds=so.exports,kr=ds,fs=function(t){t=t||{};var n=t.reporter,r=kr.getOption(t,"async",!0),i=kr.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var o=Rr(),u,a=!1;function s(b,C){!a&&i&&r&&o.size()===0&&c(),o.add(b,C)}function l(){for(a=!0;o.size();){var b=o;o=Rr(),b.process()}a=!1}function f(b){a||(b===void 0&&(b=r),u&&(h(u),u=null),b?c():l())}function c(){u=d(l)}function h(b){var C=clearTimeout;return C(b)}function d(b){var C=function(m){return setTimeout(m,0)};return C(b)}return{add:s,force:f}};function Rr(){var e={},t=0,n=0,r=0;function i(a,s){s||(s=a,a=0),a>n?n=a:a<r&&(r=a),e[a]||(e[a]=[]),e[a].push(s),t++}function o(){for(var a=r;a<=n;a++)for(var s=e[a],l=0;l<s.length;l++){var f=s[l];f()}}function u(){return t}return{add:i,process:o,size:u}}var $n="_erd";function hs(e){return e[$n]={},lo(e)}function lo(e){return e[$n]}function ps(e){delete e[$n]}var gs={initState:hs,getState:lo,cleanState:ps},et=ao,ms=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(s,l){if(!u(s))throw new Error("Element is not detectable by this strategy.");function f(){l(s)}if(et.isIE(8))r(s).object={proxy:f},s.attachEvent("onresize",f);else{var c=u(s);c.contentDocument.defaultView.addEventListener("resize",f)}}function o(s,l,f){f||(f=l,l=s,s=null),s=s||{},s.debug;function c(h,d){var b="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",C=!1,m=window.getComputedStyle(h),D=h.offsetWidth,y=h.offsetHeight;r(h).startSize={width:D,height:y};function p(){function S(){if(m.position==="static"){h.style.position="relative";var x=function(k,P,I,w){function J(de){return de.replace(/[^-\d\.]/g,"")}var K=I[w];K!=="auto"&&J(K)!=="0"&&(k.warn("An element that is positioned static has style."+w+"="+K+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+w+" will be set to 0. Element: ",P),P.style[w]=0)};x(t,h,m,"top"),x(t,h,m,"right"),x(t,h,m,"bottom"),x(t,h,m,"left")}}function v(){C||S();function x(P,I){if(!P.contentDocument){setTimeout(function(){x(P,I)},100);return}I(P.contentDocument)}var k=this;x(k,function(I){d(h)})}m.position!==""&&(S(),C=!0);var R=document.createElement("object");R.style.cssText=b,R.tabIndex=-1,R.type="text/html",R.onload=v,et.isIE()||(R.data="about:blank"),h.appendChild(R),r(h).object=R,et.isIE()&&(R.data="about:blank")}n?n.add(p):p()}et.isIE(8)?f(l):c(l,f)}function u(s){return r(s).object}function a(s){et.isIE(8)?s.detachEvent("onresize",r(s).object.proxy):s.removeChild(u(s)),delete r(s).object}return{makeDetectable:o,addListener:i,uninstall:a}},_s=io.forEach,ys=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var o=s(),u="erd_scroll_detection_scrollbar_style",a="erd_scroll_detection_container";l(u,a);function s(){var y=500,p=500,S=document.createElement("div");S.style.cssText="position: absolute; width: "+y*2+"px; height: "+p*2+"px; visibility: hidden; margin: 0; padding: 0;";var v=document.createElement("div");v.style.cssText="position: absolute; width: "+y+"px; height: "+p+"px; overflow: scroll; visibility: none; top: "+-500*3+"px; left: "+-500*3+"px; visibility: hidden; margin: 0; padding: 0;",v.appendChild(S),document.body.insertBefore(v,document.body.firstChild);var R=y-v.clientWidth,x=p-v.clientHeight;return document.body.removeChild(v),{width:R,height:x}}function l(y,p){function S(k,P){P=P||function(w){document.head.appendChild(w)};var I=document.createElement("style");return I.innerHTML=k,I.id=y,P(I),I}if(!document.getElementById(y)){var v=p+"_animation",R=p+"_animation_active",x=`/* Created by the element-resize-detector library. */
`;x+="."+p+` > div::-webkit-scrollbar { display: none; }

`,x+="."+R+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+v+"; animation-name: "+v+`; }
`,x+="@-webkit-keyframes "+v+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,x+="@keyframes "+v+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(x)}}function f(y){y.className+=" "+a+"_animation_active"}function c(y,p,S){if(y.addEventListener)y.addEventListener(p,S);else if(y.attachEvent)y.attachEvent("on"+p,S);else return t.error("[scroll] Don't know how to add event listeners.")}function h(y,p,S){if(y.removeEventListener)y.removeEventListener(p,S);else if(y.detachEvent)y.detachEvent("on"+p,S);else return t.error("[scroll] Don't know how to remove event listeners.")}function d(y){return r(y).container.childNodes[0].childNodes[0].childNodes[0]}function b(y){return r(y).container.childNodes[0].childNodes[0].childNodes[1]}function C(y,p){var S=r(y).listeners;if(!S.push)throw new Error("Cannot add listener to an element that is not detectable.");r(y).listeners.push(p)}function m(y,p,S){S||(S=p,p=y,y=null),y=y||{};function v(){if(y.debug){var E=Array.prototype.slice.call(arguments);if(E.unshift(i.get(p),"Scroll: "),t.log.apply)t.log.apply(null,E);else for(var O=0;O<E.length;O++)t.log(E[O])}}function R(E){function O(W){return W===W.ownerDocument.body||W.ownerDocument.body.contains(W)}return!O(E)||getComputedStyle(E)===null}function x(E){var O=r(E).container.childNodes[0],W=getComputedStyle(O);return!W.width||W.width.indexOf("px")===-1}function k(){var E=getComputedStyle(p),O={};return O.position=E.position,O.width=p.offsetWidth,O.height=p.offsetHeight,O.top=E.top,O.right=E.right,O.bottom=E.bottom,O.left=E.left,O.widthCSS=E.width,O.heightCSS=E.height,O}function P(){var E=k();r(p).startSize={width:E.width,height:E.height},v("Element start size",r(p).startSize)}function I(){r(p).listeners=[]}function w(){if(v("storeStyle invoked."),!r(p)){v("Aborting because element has been uninstalled");return}var E=k();r(p).style=E}function J(E,O,W){r(E).lastWidth=O,r(E).lastHeight=W}function K(E){return d(E).childNodes[0]}function de(){return 2*o.width+1}function mt(){return 2*o.height+1}function _t(E){return E+10+de()}function yt(E){return E+10+mt()}function Eo(E){return E*2+de()}function So(E){return E*2+mt()}function Pn(E,O,W){var ve=d(E),$e=b(E),Me=_t(O),ze=yt(W),X=Eo(O),L=So(W);ve.scrollLeft=Me,ve.scrollTop=ze,$e.scrollLeft=X,$e.scrollTop=L}function On(){var E=r(p).container;if(!E){E=document.createElement("div"),E.className=a,E.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",r(p).container=E,f(E),p.appendChild(E);var O=function(){r(p).onRendered&&r(p).onRendered()};c(E,"animationstart",O),r(p).onAnimationStart=O}return E}function Fo(){function E(){var oe=r(p).style;if(oe.position==="static"){p.style.position="relative";var pe=function(Ue,ke,To,vt){function Io($o){return $o.replace(/[^-\d\.]/g,"")}var zt=To[vt];zt!=="auto"&&Io(zt)!=="0"&&(Ue.warn("An element that is positioned static has style."+vt+"="+zt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+vt+" will be set to 0. Element: ",ke),ke.style[vt]=0)};pe(t,p,oe,"top"),pe(t,p,oe,"right"),pe(t,p,oe,"bottom"),pe(t,p,oe,"left")}}function O(oe,pe,Ue,ke){return oe=oe?oe+"px":"0",pe=pe?pe+"px":"0",Ue=Ue?Ue+"px":"0",ke=ke?ke+"px":"0","left: "+oe+"; top: "+pe+"; right: "+ke+"; bottom: "+Ue+";"}if(v("Injecting elements"),!r(p)){v("Aborting because element has been uninstalled");return}E();var W=r(p).container;W||(W=On());var ve=o.width,$e=o.height,Me="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",ze="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+O(-(1+ve),-(1+$e),-$e,-ve),X="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",L="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",ne="position: absolute; left: 0; top: 0;",je="position: absolute; width: 200%; height: 200%;",fe=document.createElement("div"),he=document.createElement("div"),bt=document.createElement("div"),Bn=document.createElement("div"),Dt=document.createElement("div"),Nn=document.createElement("div");fe.dir="ltr",fe.style.cssText=Me,fe.className=a,he.className=a,he.style.cssText=ze,bt.style.cssText=X,Bn.style.cssText=ne,Dt.style.cssText=L,Nn.style.cssText=je,bt.appendChild(Bn),Dt.appendChild(Nn),he.appendChild(bt),he.appendChild(Dt),fe.appendChild(he),W.appendChild(fe);function Mn(){r(p).onExpand&&r(p).onExpand()}function zn(){r(p).onShrink&&r(p).onShrink()}c(bt,"scroll",Mn),c(Dt,"scroll",zn),r(p).onExpandScroll=Mn,r(p).onShrinkScroll=zn}function Ao(){function E(X,L,ne){var je=K(X),fe=_t(L),he=yt(ne);je.style.width=fe+"px",je.style.height=he+"px"}function O(X){var L=p.offsetWidth,ne=p.offsetHeight;v("Storing current size",L,ne),J(p,L,ne),n.add(0,function(){if(!r(p)){v("Aborting because element has been uninstalled");return}if(!W()){v("Aborting because element container has not been initialized");return}if(y.debug){var fe=p.offsetWidth,he=p.offsetHeight;(fe!==L||he!==ne)&&t.warn(i.get(p),"Scroll: Size changed before updating detector elements.")}E(p,L,ne)}),n.add(1,function(){if(!r(p)){v("Aborting because element has been uninstalled");return}if(!W()){v("Aborting because element container has not been initialized");return}Pn(p,L,ne)}),n.add(2,function(){if(!r(p)){v("Aborting because element has been uninstalled");return}if(!W()){v("Aborting because element container has not been initialized");return}X()})}function W(){return!!r(p).container}function ve(){function X(){return r(p).lastNotifiedWidth===void 0}v("notifyListenersIfNeeded invoked");var L=r(p);if(X()&&L.lastWidth===L.startSize.width&&L.lastHeight===L.startSize.height)return v("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(L.lastWidth===L.lastNotifiedWidth&&L.lastHeight===L.lastNotifiedHeight)return v("Not notifying: Size already notified");v("Current size not notified, notifying..."),L.lastNotifiedWidth=L.lastWidth,L.lastNotifiedHeight=L.lastHeight,_s(r(p).listeners,function(ne){ne(p)})}function $e(){if(v("startanimation triggered."),x(p)){v("Ignoring since element is still unrendered...");return}v("Element rendered.");var X=d(p),L=b(p);(X.scrollLeft===0||X.scrollTop===0||L.scrollLeft===0||L.scrollTop===0)&&(v("Scrollbars out of sync. Updating detector elements..."),O(ve))}function Me(){if(v("Scroll detected."),x(p)){v("Scroll event fired while unrendered. Ignoring...");return}var X=p.offsetWidth,L=p.offsetHeight;X!==r(p).lastWidth||L!==r(p).lastHeight?(v("Element size changed."),O(ve)):v("Element size has not changed ("+X+"x"+L+").")}if(v("registerListenersAndPositionElements invoked."),!r(p)){v("Aborting because element has been uninstalled");return}r(p).onRendered=$e,r(p).onExpand=Me,r(p).onShrink=Me;var ze=r(p).style;E(p,ze.width,ze.height)}function xo(){if(v("finalizeDomMutation invoked."),!r(p)){v("Aborting because element has been uninstalled");return}var E=r(p).style;J(p,E.width,E.height),Pn(p,E.width,E.height)}function wo(){S(p)}function Ln(){v("Installing..."),I(),P(),n.add(0,w),n.add(1,Fo),n.add(2,Ao),n.add(3,xo),n.add(4,wo)}v("Making detectable..."),R(p)?(v("Element is detached"),On(),v("Waiting until element is attached..."),r(p).onRendered=function(){v("Element is now attached"),Ln()}):Ln()}function D(y){var p=r(y);p&&(p.onExpandScroll&&h(d(y),"scroll",p.onExpandScroll),p.onShrinkScroll&&h(b(y),"scroll",p.onShrinkScroll),p.onAnimationStart&&h(p.container,"animationstart",p.onAnimationStart),p.container&&y.removeChild(p.container))}return{makeDetectable:m,addListener:C,uninstall:D}},rt=io.forEach,bs=is,Ds=os,vs=us,Cs=as,Es=ss,Pr=ao,Ss=fs,Ee=gs,Fs=ms,As=ys;function Or(e){return Array.isArray(e)||e.length!==void 0}function Lr(e){if(Array.isArray(e))return e;var t=[];return rt(e,function(n){t.push(n)}),t}function Br(e){return e&&e.nodeType===1}var xs=function(e){e=e||{};var t;if(e.idHandler)t={get:function(m){return e.idHandler.get(m,!0)},set:e.idHandler.set};else{var n=vs(),r=Cs({idGenerator:n,stateHandler:Ee});t=r}var i=e.reporter;if(!i){var o=i===!1;i=Es(o)}var u=Pe(e,"batchProcessor",Ss({reporter:i})),a={};a.callOnAdd=!!Pe(e,"callOnAdd",!0),a.debug=!!Pe(e,"debug",!1);var s=Ds(t),l=bs({stateHandler:Ee}),f,c=Pe(e,"strategy","object"),h={reporter:i,batchProcessor:u,stateHandler:Ee,idHandler:t};if(c==="scroll"&&(Pr.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),c="object"):Pr.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),c="object")),c==="scroll")f=As(h);else if(c==="object")f=Fs(h);else throw new Error("Invalid strategy name: "+c);var d={};function b(m,D,y){function p(P){var I=s.get(P);rt(I,function(J){J(P)})}function S(P,I,w){s.add(I,w),P&&w(I)}if(y||(y=D,D=m,m={}),!D)throw new Error("At least one element required.");if(!y)throw new Error("Listener required.");if(Br(D))D=[D];else if(Or(D))D=Lr(D);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var v=0,R=Pe(m,"callOnAdd",a.callOnAdd),x=Pe(m,"onReady",function(){}),k=Pe(m,"debug",a.debug);rt(D,function(I){Ee.getState(I)||(Ee.initState(I),t.set(I));var w=t.get(I);if(k&&i.log("Attaching listener to element",w,I),!l.isDetectable(I)){if(k&&i.log(w,"Not detectable."),l.isBusy(I)){k&&i.log(w,"System busy making it detectable"),S(R,I,y),d[w]=d[w]||[],d[w].push(function(){v++,v===D.length&&x()});return}return k&&i.log(w,"Making detectable..."),l.markBusy(I,!0),f.makeDetectable({debug:k},I,function(K){if(k&&i.log(w,"onElementDetectable"),Ee.getState(K)){l.markAsDetectable(K),l.markBusy(K,!1),f.addListener(K,p),S(R,K,y);var de=Ee.getState(K);if(de&&de.startSize){var mt=K.offsetWidth,_t=K.offsetHeight;(de.startSize.width!==mt||de.startSize.height!==_t)&&p(K)}d[w]&&rt(d[w],function(yt){yt()})}else k&&i.log(w,"Element uninstalled before being detectable.");delete d[w],v++,v===D.length&&x()})}k&&i.log(w,"Already detecable, adding listener."),S(R,I,y),v++}),v===D.length&&x()}function C(m){if(!m)return i.error("At least one element is required.");if(Br(m))m=[m];else if(Or(m))m=Lr(m);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");rt(m,function(D){s.removeAllListeners(D),f.uninstall(D),Ee.cleanState(D)})}return{listenTo:b,removeListener:s.removeListener,removeAllListeners:s.removeAllListeners,uninstall:C}};function Pe(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}Object.defineProperty(no,"__esModule",{value:!0});var ws=xs,Ts=function(){function e(t){var n=this;this.handler=t,this.listenedElement=null,this.hasResizeObserver=typeof window.ResizeObserver<"u",this.hasResizeObserver?this.rz=new ResizeObserver(function(r){n.handler(Nr(r[0].target))}):this.erd=ws({strategy:"scroll"})}return e.prototype.observe=function(t){var n=this;this.listenedElement!==t&&(this.listenedElement&&this.disconnect(),t&&(this.hasResizeObserver?this.rz.observe(t):this.erd.listenTo(t,function(r){n.handler(Nr(r))})),this.listenedElement=t)},e.prototype.disconnect=function(){this.listenedElement&&(this.hasResizeObserver?this.rz.disconnect():this.erd.uninstall(this.listenedElement),this.listenedElement=null)},e}(),Is=no.default=Ts;function Nr(e){return{width:Mr(window.getComputedStyle(e).width),height:Mr(window.getComputedStyle(e).height)}}function Mr(e){var t=/^([0-9\.]+)px$/.exec(e);return t?parseFloat(t[1]):0}const $s=Object.prototype.hasOwnProperty;function ks(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!$s.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}class Rs{constructor(t,n){this.result={},this.animationFrameRequestId=null,this.rol=new Is(r=>{this.animationFrameRequestId=window.requestAnimationFrame(()=>{const i=to(t)(r);ks(this.result,i)||(n(i),this.result=i)})})}observe(t){this.rol.observe(t)}disconnect(){this.animationFrameRequestId&&window.cancelAnimationFrame(this.animationFrameRequestId),this.rol.disconnect()}}const Ps=({query:e,ref:t})=>{const[n,r]=U(()=>to(e)({}));return q(()=>{if(t.current){let i=new Rs(e,o=>{r(o)});return i.observe(t.current),()=>{i.disconnect(),i=null}}},[t]),[n]},He={overflowX:e=>[{overflowX:"x1ke1aez",$$css:!0},{"--overflowX":(e?"hidden":"auto")??"initial"}],gridTemplateRows:e=>[{gridTemplateRows:"xi7raoi",$$css:!0},{"--gridTemplateRows":`repeat(${e}, min-content)`!=null?`repeat(${e}, min-content)`:"initial"}],oneColumnGridTemplateColumns:{gridAutoColumns:"x1onz594",$$css:!0},twoColumnGridTemplateColumns:{gridAutoColumns:"x177hqcg",$$css:!0},threeColumnGridTemplateColumns:{gridAutoColumns:"x2ybmqr",$$css:!0},fourColumnGridTemplateColumns:{gridAutoColumns:"x12oshhk",$$css:!0}},Os=Je(function({addToCart:t,currency:n,shopMoneyFormat:r,getProduct:i,productHandles:o,funnel:u,setProductStates:a,isSingleStack:s,stackProductsCount:l},f){const c=Ps({ref:f,query:{twoColumn:{minWidth:768,maxWidth:1024},threeColumn:{minWidth:1024,maxWidth:1280},fourColumn:{minWidth:1280}}}),h=T(()=>c[0]?c[0].fourColumn?4:c[0].threeColumn?3:c[0].twoColumn?2:1:1,[c]),d=T(()=>Math.min(Math.ceil(o.length/h),l),[h,l,o]),b=T(()=>o.length<h*d?0:h*d,[o,h,d]),C=T(()=>{if(o.length<h*d)return 0;const m=o.length%d;return m===0?0:d-m},[o,d,h]);return g("div",{ref:f,...B("products"),...F(A,Gi.container,He.overflowX(s),He.gridTemplateRows(d),h===1&&He.oneColumnGridTemplateColumns,h===2&&He.twoColumnGridTemplateColumns,h===3&&He.threeColumnGridTemplateColumns,h===4&&He.fourColumnGridTemplateColumns),children:[o.map(m=>g($r,{handle:m,funnel:u,getProduct:i,addToCart:t,currency:n,shopMoneyFormat:r,setProductStates:a},m)),o.slice(0,C).map(m=>g("div",{...F(A,N.container)},`stack-spacer-${m}`)),o.slice(0,b).map(m=>g($r,{handle:m,funnel:u,getProduct:i,addToCart:t,currency:n,shopMoneyFormat:r,setProductStates:()=>null},`wrapper-${m}`))]})}),Ls=({funnel:e})=>g("div",{...F(A,Gi.container),children:g(Tn,{funnel:e})}),pn=({handle:e,recommendationsApiProducts:t})=>t.find(n=>n.handle===e)??null,Tt=async({handle:e,fetchProduct:t,setProductHandles:n})=>{let r=null;try{r=await t({handle:e})}catch(i){console.log(`Error fetching specific product ${e}:`,i)}return r||(n(i=>i.filter(o=>o!==e)),null)},zr=({productStates:e})=>Object.values(e).map(t=>{var n;return((n=t.ref.current)==null?void 0:n.offsetLeft)||0}),jr=({productStates:e})=>{const t=Object.values(e).map(r=>{var i;return((i=r.ref.current)==null?void 0:i.offsetWidth)??null}).filter(r=>r);return t.reduce((r,i)=>r+i,0)/t.length??200},Bs=e=>e.sort((t,n)=>t-n),Ns=e=>e.sort((t,n)=>n-t),Ur=async({handle:e,getProduct:t})=>{setTimeout(async()=>{const n=await t({handle:e});if(!n||!n.featured_image)return;const r=new Image;r.src=n.featured_image},100)},Ms={header:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"x1qughib",paddingInlineStart:"x106a9eq",paddingLeft:null,paddingRight:null,paddingBlock:"x1t0vds8",paddingTop:null,paddingBottom:null,$$css:!0}},zs=({children:e})=>g("div",{...B("header"),...F(A,Ms.header),children:e}),Jt={title:{fontSize:"x1j61zf2",lineHeight:"x1o2sk6j",fontWeight:"x1s688f",color:"xsljb9f",$$css:!0},fontSize:e=>[{fontSize:"x13jbg0v",lineHeight:"xatrb82",$$css:!0},{"--fontSize":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`),"--lineHeight":`${e*1.5}px`!=null?`${e*1.5}px`:"initial"}],color:e=>[{color:"x19dipnz",$$css:!0},{"--color":e??"initial"}]},js=({funnel:e})=>{const{$contentTranslation:t}=In({funnel:e});return g("div",{...B("title"),...F(A,Jt.title,Jt.fontSize(e.design.titleSize),Jt.color(e.design.titleColor)),children:t("titleText",e.content.titleText)})},It={Root:zs,Title:js},Qt={},Hr={},$t=({fetchProduct:e})=>async({handle:t})=>{if(Hr[t])return null;if(Qt[t])return Qt[t];const n=await e({handle:t});return n?Qt[t]=n:Hr[t]=!0,n},ge={navigation:{display:"x78zum5",$$css:!0},navigationButton:{background:"x1md70p1 x14hn1a8",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,minHeight:"x21xpn4",minWidth:"x46jg8d",paddingBlock:"x1t0vds8",paddingTop:null,paddingBottom:null,paddingInline:"xaope02",paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,borderRadius:"xur7f20",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,cursor:"x1ypdohk",$$css:!0},navigationButtonDisabled:{background:"x1md70p1",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,opacity:"xvpkmg4",cursor:"x1ipiool",$$css:!0},icon:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},iconFill:e=>[{fill:"xffa9am",$$css:!0},{"--fill":e??"initial"}]},Us=({productsRefCurrent:e,left:t,callback:n})=>{const r=()=>{e.removeEventListener("scrollend",r),n()};e.addEventListener("scrollend",r),e.scrollTo({left:t,behavior:"smooth"})},Hs=({funnel:e,addToCart:t,currency:n,fetchProduct:r,shopMoneyFormat:i,productHandles:o,setProductHandles:u,isProductsLoaded:a,recommendationsApiProducts:s})=>{const l=ee(async({handle:x,getProduct:k})=>{if(o.length<2)return;const P=o.indexOf(x),I=o[P-1]||o[o.length-1];I&&Ur({handle:I,getProduct:k});const w=o[P+1]||o[0];w&&Ur({handle:w,getProduct:k})},[o]),f=ee(async({handle:x})=>{if(e.upsell.productsType===Y.RECOMMENDATIONS_API){const k=pn({handle:x,recommendationsApiProducts:s});return l({handle:x,getProduct:async({handle:P})=>pn({handle:P,recommendationsApiProducts:s})}),k}if(e.upsell.productsType===Y.SPECIFIC){const k=await Tt({handle:x,fetchProduct:$t({fetchProduct:r}),setProductHandles:u});return!k||!gt({product:k,funnel:e}).some(w=>w.available)?null:(l({handle:x,getProduct:async({handle:w})=>Tt({handle:w,fetchProduct:$t({fetchProduct:r}),setProductHandles:u})}),k)}return null},[e,r,s,l,u]),c=ye(null),[h,d]=U({}),b=T(()=>o[0],[o]),C=T(()=>o[o.length-1],[o]),m=T(()=>h[b],[h,b]),D=T(()=>h[C],[h,C]),y=T(()=>m?!m.isVisible:!1,[m]),p=T(()=>D?!D.isVisible:!1,[D]),S=T(()=>!m||!y&&!p,[m,y,p]),v=T(()=>e.design.layoutType===Si.STACKED?e.design.stackedProductsCount??1:1,[e]),R=T(()=>o.length<=v,[o,v]);return a&&o.length===0?null:g(te,{children:[g(It.Root,{children:[g(It.Title,{funnel:e}),!R&&g("div",{...B("navigation"),...F(A,ge.navigation),children:[g("button",{...B("button-left"),type:"button",...F(A,ge.navigationButton,S&&ge.navigationButtonDisabled),onClick:()=>{if(S)return;const x=c.current;if(!x)return;const k=Ns(zr({productStates:h}));if(y){const P=jr({productStates:h}),I=k.find(w=>w<x.scrollLeft-P/2);x.scrollTo({left:I,behavior:"smooth"})}else x.scrollTo({left:x.scrollWidth,behavior:"instant"}),x.scrollTo({left:k[0],behavior:"smooth"})},children:g("div",{...B("icon"),...F(A,ge.icon,ge.iconFill(e.design.navigationIconColor)),children:g(Hi,{...F(A)})})}),g("button",{...B("button-right"),type:"button",...F(A,ge.navigationButton,S&&ge.navigationButtonDisabled),onClick:()=>{if(S)return;const x=c.current;if(!x)return;const k=Bs(zr({productStates:h})),P=jr({productStates:h}),I=k.find(w=>w>x.scrollLeft+P/2);p?x.scrollTo({left:I,behavior:"smooth"}):I?x.scrollTo({left:I,behavior:"smooth"}):Us({productsRefCurrent:x,left:x.scrollWidth,callback:()=>x.scrollTo({left:0,behavior:"instant"})})},children:g("div",{...B("icon"),...F(A,ge.icon,ge.iconFill(e.design.navigationIconColor)),children:g(Wi,{...F(A)})})})]})]}),a?g(Os,{ref:c,setProductStates:d,funnel:e,addToCart:t,currency:n,shopMoneyFormat:i,getProduct:f,productHandles:o,isSingleStack:R,stackProductsCount:v}):g(Ls,{funnel:e})]})},co={container:{display:"x78zum5",flexDirection:"xdt5ytf",gap:"x17d4w8g",rowGap:null,columnGap:null,$$css:!0}},Oe={container:{position:"x1n2onr6",$$css:!0},input:{appearance:"xjyslct",width:"x1xp8n7a",height:"xmix8c7",borderRadius:"x12oqio5",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,borderWidth:"xdh2fpr",borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:"x1y0btm7",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,cursor:"x1ypdohk",$$css:!0},disabled:{opacity:"xbyyjgo",cursor:"x1ipiool",$$css:!0},borderColor:e=>[{borderColor:"xeqt46j",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0},{"--borderColor":e??"initial"}],backgroundColor:e=>[{backgroundColor:"xq1mx2j",$$css:!0},{"--backgroundColor":e??"initial"}],icon:{position:"x10l6tqk",top:"x13vifvy",left:"xu96u03",insetInlineStart:null,insetInlineEnd:null,right:"x3m8u43",bottom:"x1ey2m1c",pointerEvents:"x47corl",cursor:"x1ypdohk",$$css:!0},iconFill:e=>[{fill:"xffa9am",$$css:!0},{"--fill":e??"initial"}]},fo=({funnel:e,isSelected:t,disabled:n,setIsSelected:r})=>g("div",{...F(A,Oe.container),children:[g("input",{...F(A,Oe.input,Oe.borderColor(e.design.checkboxBorderColor),t&&Oe.backgroundColor(e.design.checkboxBackgroundColor),n&&Oe.disabled),type:"checkbox",checked:t,disabled:n,onChange:i=>r(i.target.checked)}),t&&g(Bt,{...F(A,Oe.icon,Oe.iconFill(e.design.checkboxIconColor))})]}),en={imageContainer:{background:"xc3lflq",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,opacity:"xbyyjgo",$$css:!0},title:{height:"x1qx5ct2",maxWidth:"xazcve0",background:"xc3lflq",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,opacity:"xbyyjgo",$$css:!0},select:{height:"x10c73hc",maxWidth:"x10739mo",background:"xc3lflq",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,opacity:"xbyyjgo",$$css:!0}},ho=({funnel:e})=>g(Nt,{children:[g(fo,{funnel:e,isSelected:!0,disabled:!0,setIsSelected:()=>{}}),g("div",{...F(A,N.imageContainer,en.imageContainer)}),g(ue.Root,{children:[g("div",{...F(A,N.title,N.borderRadius(e.design.borderRadius),en.title)}),g("div",{...F(A,en.select,N.borderRadius(e.design.borderRadius))})]})]}),kn=Je(function({funnel:t},n){return g(pt,{funnel:t,ref:n,children:g(ho,{funnel:t})})});kn.Content=ho;const Ws=({funnel:e})=>{const t=T(()=>e.upsell.productsType===Y.RECOMMENDATIONS_API?3:e.upsell.productsType===Y.SPECIFIC?1+e.upsell.specificProducts.length:3,[e]);return g("div",{...B("products"),...F(A,co.container),children:Array.from({length:t}).map((n,r)=>g(kn,{funnel:e},r))})},po=oi({productStates:{},setProductStates:e=>{}}),Gs=({children:e})=>{const[t,n]=U({});return g(po.Provider,{value:{productStates:t,setProductStates:n},children:e})},go=()=>{const e=Cn(po);if(!e)throw new Error("useProductStates must be used within a ProductStatesProvider");return e},mo=({funnel:e,product:t,currency:n,shopMoneyFormat:r,disabled:i=!1,productPageCollectionIds:o})=>{const{productStates:u,setProductStates:a}=go(),s=i,l=T(()=>u[t.handle],[u,t]),f=ee(C=>a(m=>({...m,[t.handle]:{...m[t.handle]??{},currentVariant:C}})),[t,a]),c=ee(C=>a(m=>({...m,[t.handle]:{...m[t.handle]??{},isSelected:C}})),[t,a]),h=T(()=>hn({product:t,funnel:e,isTargetProduct:s}),[t,e,s]);q(()=>{l||a(C=>({...C,[t.handle]:{...C[t.handle]??{},isSelected:!0,currentVariant:h}}))},[l,t,a,h]);const d=T(()=>(l==null?void 0:l.currentVariant)??null,[l]),b=T(()=>(l==null?void 0:l.isSelected)??!1,[l]);return g(Nt,{children:[g(fo,{isSelected:b,setIsSelected:c,funnel:e,disabled:i}),g(Ji,{product:t,currentVariant:d}),g(ue.Root,{children:[g(ue.Title,{product:t,funnel:e}),g(ue.VariantSelect,{funnel:e,product:t,currentVariant:d,setCurrentVariant:f,isTargetProduct:s}),d&&g(ue.Price,{product:t,funnel:e,currentVariant:d,currency:n,shopMoneyFormat:r,isTargetProduct:s,productPageCollectionIds:o})]})]})},qs=({handle:e,funnel:t,currency:n,shopMoneyFormat:r,getProduct:i})=>{const[o,u]=U(!1),[a,s]=U(null),l=ye(null);return q(()=>{o||a||(u(!0),(async()=>{try{const f=await i({handle:e});s(f)}catch(f){console.log({error:f}),u(!1)}})())},[o,a,i,e]),g(pt,{ref:l,funnel:t,children:a?g(mo,{funnel:t,product:a,currency:n,shopMoneyFormat:r,productPageCollectionIds:[]}):g(kn.Content,{funnel:t})})},Vs=({productPageProduct:e,funnel:t,currency:n,shopMoneyFormat:r,productPageCollectionIds:i})=>g(pt,{funnel:t,children:g(mo,{funnel:t,product:e,currency:n,shopMoneyFormat:r,disabled:!0,productPageCollectionIds:i})}),Ys=({funnel:e,visibleProductHandles:t,currency:n,shopMoneyFormat:r,getProduct:i,productPageProduct:o,productPageCollectionIds:u})=>g("div",{...B("products"),...F(A,co.container),children:[g(Vs,{productPageProduct:o,funnel:e,currency:n,shopMoneyFormat:r,productPageCollectionIds:u}),t.map(a=>g(qs,{handle:a,funnel:e,currency:n,shopMoneyFormat:r,getProduct:i},a))]});var Ks=function(e){return e instanceof RegExp},Xs=function(t){var n=/[\\^$.*+?()[\]{}|]/g,r=RegExp(n.source);return t&&r.test(t)?t.replace(n,"\\$&"):t},_o=function(e){return typeof e=="string"},Zs=function(e){var t=[];return e.forEach(function(n){Array.isArray(n)?t=t.concat(n):t.push(n)}),t};function Js(e,t,n){var r=0,i=0;if(e==="")return e;if(!e||!_o(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var o=t;Ks(o)||(o=new RegExp("("+Xs(o)+")","gi"));for(var u=e.split(o),a=1,s=u.length;a<s;a+=2){if(u[a]===void 0||u[a-1]===void 0){console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");continue}i=u[a].length,r+=u[a-1].length,u[a]=n(u[a],a,r),r+=i}return u}var Qs=function(t,n,r){return Array.isArray(t)||(t=[t]),Zs(t.map(function(i){return _o(i)?Js(i,n,r):i}))};const Wr=wa(Qs),el=e=>{var i;const[t,n]=U(null),r=e.upsell.discountType===Se.CUSTOM&&e.content.offerType===Te.FREQUENTLY_BOUGHT_TOGETHER&&((i=e.upsell)==null?void 0:i.customDiscounts.length)>0;return q(()=>{if(!r){n(null);return}const o=c=>{if(!c)return 0;const h=c.replace(",","."),d=parseFloat(h);return isNaN(d)?0:d},u=()=>{try{const c=document.querySelector('[data-essential-upsell-element="products"]');if(!c)return console.warn("Products container not found in DOM"),null;const h=c.querySelectorAll('[data-essential-upsell-element="product"]');if(!h||h.length===0)return console.warn("No product elements found in DOM"),null;let d=0;const b=h[0],C=b.querySelector("[data-discounted-price-value]"),m=b.querySelector("[data-regular-price-value]");if(C){const D=o(C.getAttribute("data-discounted-price-value"));d+=D}else if(m){const D=o(m.getAttribute("data-regular-price-value"));d+=D}else console.warn("No price element found for the first product");for(let D=1;D<h.length;D++){const y=h[D],p=y.querySelector('input[type="checkbox"]');if(p&&p.checked){const S=y.querySelector("[data-discounted-price-value]"),v=y.querySelector("[data-regular-price-value]");if(S){const R=o(S.getAttribute("data-discounted-price-value"));d+=R}else if(v){const R=o(v.getAttribute("data-regular-price-value"));d+=R}else console.warn(`No price element found for product at index ${D}`)}}return d=Math.round(d*100)/100,d>0?d:null}catch(c){return console.error("Error calculating price from DOM:",c),null}},a=setTimeout(()=>{const c=u();n(c)},50),s=new MutationObserver(()=>{l&&clearTimeout(l),l=setTimeout(()=>{const c=u();n(c)},50)});let l=null;const f=document.querySelector('[data-essential-upsell-element="products"]');return f&&s.observe(f,{attributes:!0,attributeFilter:["checked","data-is-selected","data-discounted-price-value","data-regular-price-value"],childList:!0,subtree:!0}),()=>{a&&clearTimeout(a),l&&clearTimeout(l),s.disconnect()}},[r,e.upsell.discountType]),{domDiscountedPrice:t,shouldUseDOMCalculation:r}},tl=({discountedPrice:e,shopMoneyFormat:t})=>{const{formattedPrice:n}=Mt({price:e,shopMoneyFormat:t});return g("span",{...B("discounted-price"),dangerouslySetInnerHTML:{__html:n}})},nl=({regularPrice:e,shopMoneyFormat:t})=>{const{formattedPrice:n}=Mt({price:e,shopMoneyFormat:t});return g("span",{...B("regular-price"),className:"xmqliwb",dangerouslySetInnerHTML:{__html:n}})},rl=({product:e,funnel:t,selectedVariants:n,shopMoneyFormat:r,currency:i,productPageCollectionIds:o})=>{const{$contentTranslation:u}=In({funnel:t}),{domDiscountedPrice:a,shouldUseDOMCalculation:s}=el(t);return T(()=>{const f=n.reduce((d,b)=>d+Yi({product:e,variant:b,funnel:t,currency:i,productPageCollectionIds:o}),0),c=s&&a!==null?a:f;let h=Wr(u("buttonText",t.content.buttonText),"{total}",(d,b)=>g(tl,{discountedPrice:c,shopMoneyFormat:r},d+b));return Wr(h,"{compared-at}",(d,b)=>{const C=n.reduce((m,D)=>m+Vi({variant:D,funnel:t}),0);return C<=c||Math.abs(C-c)<.01?null:g(nl,{regularPrice:C,shopMoneyFormat:r},d+b)})},[t,n,r,i,u,e,a,s,o])},Gr={container:{marginTop:"x1k70j0n",padding:"x1gnqi22",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,justifyContent:"xl56j7k",$$css:!0},icon:e=>[{marginLeft:"xwmvlbq",marginInlineStart:null,marginInlineEnd:null,$$css:!0},{"--marginLeft":(t=>typeof t=="number"?t+"px":t??"initial")(`calc(-${e}px - 4px - 6px)`)}]},il=({productStates:e,productPageProduct:t})=>{const n=e[t.handle];return n?n.currentVariant:null},ol=({isLoading:e,isSuccess:t})=>e?g(Qi,{}):t?g(Bt,{...F(A)}):null,ul=({funnel:e,addToCart:t,productPageProduct:n,visibleProductHandles:r,shopMoneyFormat:i,currency:o,productPageCollectionIds:u})=>{const[a,s]=U(!1),[l,f]=U(!1),{productStates:c}=go(),h=T(()=>il({productStates:c,productPageProduct:n}),[c,n]),d=T(()=>r.filter(p=>{const S=c[p];return S?S.isSelected:!1}).map(p=>c[p].currentVariant),[c,r]),b=T(()=>!h||d.length===0,[h,d]),C=T(()=>[...h?[h]:[],...d],[h,d]),m=ee(async()=>{f(!1),s(!0);try{const y={__essential_upsell_funnel_id:e.id,__essential_upsell_is_target_product:!0};u.length>0&&(y.__essential_upsell_collection_ids=JSON.stringify(u)),await t({items:[{id:h.id,quantity:1,properties:y},...d.map(p=>({id:p.id,quantity:1,properties:{__essential_upsell_funnel_id:e.id}}))]})}finally{s(!1)}f(!0)},[h,u,e,d,t]),D=T(()=>b||a,[b,a]);return g("button",{...B("add-to-cart-button"),type:"button",disabled:D,...F(A,z.container,Gr.container,z.backgroundColor(e.design.buttonBackgroundColor),z.fontSize(e.design.buttonTextSize),z.color(e.design.buttonTextColor),z.borderRadius(e.design.buttonBorderRadius),D&&z.disabled),onClick:m,children:[g("div",{...B("icon"),...F(A,z.size(e.design.buttonTextSize),z.fill(e.design.buttonTextColor),Gr.icon(e.design.buttonTextSize)),children:g(ol,{isLoading:a,isSuccess:l})}),g(rl,{product:n,funnel:e,selectedVariants:C,shopMoneyFormat:i,currency:o,productPageCollectionIds:u})]})},al=({funnel:e,isProductsLoaded:t,currency:n,shopMoneyFormat:r,productHandles:i,setProductHandles:o,recommendationsApiProducts:u,fetchProduct:a,productPageProduct:s,addToCart:l,productPageCollectionIds:f})=>{const c=ee(async({handle:d})=>{if(e.upsell.productsType===Y.RECOMMENDATIONS_API)return pn({handle:d,recommendationsApiProducts:u});if(e.upsell.productsType===Y.SPECIFIC){const b=await Tt({handle:d,fetchProduct:$t({fetchProduct:a}),setProductHandles:o});return!b||!gt({product:b,funnel:e}).some(D=>D.available)?null:b}return null},[e,a,u,o]),h=T(()=>{const d=i.filter(b=>b!==(s==null?void 0:s.handle));return e.upsell.productsType===Y.RECOMMENDATIONS_API?d.slice(0,2):e.upsell.productsType===Y.SPECIFIC?d.slice(0,5):d},[i,e,s]);return!s||!h.length?null:g(Gs,{children:[g(It.Root,{children:g(It.Title,{funnel:e})}),t?g(Ys,{funnel:e,currency:n,shopMoneyFormat:r,visibleProductHandles:h,getProduct:c,productPageProduct:s,productPageCollectionIds:f}):g(Ws,{funnel:e}),g(ul,{funnel:e,addToCart:l,productPageProduct:s,visibleProductHandles:h,shopMoneyFormat:r,currency:n,productPageCollectionIds:f})]})},yo=({id:e})=>`gid://shopify/Product/${e}`,sl=({specificProduct:e,productPageProduct:t})=>t?e.shopifyId===yo({id:t.id}):!1,ll=({specificProduct:e,cartItems:t})=>t.some(n=>e.shopifyId===yo({id:n.productId})),cl=({funnel:e,productPageProduct:t,cartItems:n})=>e.upsell.specificProducts.filter(r=>{const i=sl({specificProduct:r,productPageProduct:t}),u=e.upsell.isHideProductInCart!==!1&&ll({specificProduct:r,cartItems:n});return!i&&!u}),dl=({funnel:e,cartItems:t,addToCart:n,currency:r,fetchRecommendations:i,fetchProduct:o,productPageProduct:u,shopMoneyFormat:a,setIsImpressionTrackingEnabled:s,productPageCollectionIds:l})=>{const[f,c]=U([]),[h,d]=U([]),[b,C]=U(!1),m=ee(async()=>{if(e.upsell.productsType===Y.RECOMMENDATIONS_API){const D=await i(),y=ka({products:(D==null?void 0:D.products)??[]});return d(y),C(!0),y.length&&s(!0),y.map(p=>p.handle)}if(e.upsell.productsType===Y.SPECIFIC){let y=cl({funnel:e,productPageProduct:u,cartItems:t}).map(S=>S.shopifyHandle);c(y),C(!0);const p=[];for(const S of y)try{const v=await Tt({handle:S,fetchProduct:$t({fetchProduct:o}),setProductHandles:c});gt({product:v,funnel:e}).some(k=>k.available)&&p.push(v)}catch(v){console.log({error:v})}return p.length?(s(!0),p.map(S=>S.handle)):(c([]),[])}return[]},[e,i,u,t,o,s]);return q(()=>{(async()=>{const D=await m();c(D)})()},[m]),fn({funnel:e})===Te.CROSS_SELL?g(Hs,{funnel:e,addToCart:n,currency:r,fetchProduct:o,shopMoneyFormat:a,productHandles:f,setProductHandles:c,isProductsLoaded:b,recommendationsApiProducts:h}):fn({funnel:e})===Te.FREQUENTLY_BOUGHT_TOGETHER?g(al,{funnel:e,isProductsLoaded:b,currency:r,shopMoneyFormat:a,productHandles:f,setProductHandles:c,fetchProduct:o,recommendationsApiProducts:h,productPageProduct:u,addToCart:n,productPageCollectionIds:l||[]}):null},qr={INHERIT:"inherit",HELVETICA:"Helvetica, Arial, sans-serif",ARIAL:"Arial, Helvetica, sans-serif",TAHOMA:"Tahoma, Verdana, sans-serif",TREBUCHET_MS:'"Trebuchet MS", Helvetica, sans-serif',TIMES_NEW_ROMAN:'"Times New Roman", Times, serif',GEORGIA:"Georgia, serif",GARAMOND:"Garamond, serif",COURIER_NEW:"Courier New"},St={container:{width:"x1qrby5j",display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},paddingTop:e=>[{paddingTop:"xbobb8a",$$css:!0},{"--paddingTop":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],paddingBottom:e=>[{paddingBottom:"x9q6w0x",$$css:!0},{"--paddingBottom":(t=>typeof t=="number"?t+"px":t??"initial")(`${e}px`)}],fontFamily:e=>[{fontFamily:"x1q1tvw",$$css:!0},{"--fontFamily":qr[e]!=null?qr[e]:"initial"}]},bo=Je(({funnel:e,cartItems:t,addToCart:n,currency:r,locale:i,fetchRecommendations:o,fetchProduct:u,productPageProduct:a,shopMoneyFormat:s,setIsImpressionTrackingEnabled:l,productPageCollectionIds:f},c)=>{const h=T(()=>new xu({locale:i,currency:r.active}),[i,r]);return g(wi.Provider,{value:h,children:g("div",{ref:c,...B("container"),"data-essential-upsell-funnel-id":e.id,"data-essential-upsell-funnel-content-offer-type":e.content.offerType,...F(A,St.container,St.paddingTop(e.design.outsideTopSpacing),St.paddingBottom(e.design.outsideBottomSpacing),St.fontFamily(e.design.font)),children:g(dl,{funnel:e,cartItems:t,addToCart:n,currency:r,fetchRecommendations:o,fetchProduct:u,productPageProduct:a,shopMoneyFormat:s,setIsImpressionTrackingEnabled:l,productPageCollectionIds:f})})})});bo.displayName="Content";const Vr=({funnel:e,productPageProduct:t,cartItems:n,firstShopProductId:r})=>{var i,o;if(e.placement.type===Be.PRODUCT_PAGE)return(t==null?void 0:t.id)||((i=n[0])==null?void 0:i.productId)||r;if(e.placement.type===Be.CART_PAGE)return((o=n[0])==null?void 0:o.productId)||(t==null?void 0:t.id)||r},fl=({variant:e})=>e.featured_image?{src:e.featured_image.src}:null,hl=({variant:e})=>({id:e.id,title:e.title,price:e.price/100,compare_at_price:e.compare_at_price?e.compare_at_price/100:null,featured_image:fl({variant:e}),available:e.available}),pl=({product:e})=>({id:e.id,handle:e.handle,title:e.title,featured_image:e.featured_image??null,variants:e.variants.map(t=>hl({variant:t})),url:e.url??`${Ci()}products/${e.handle}`}),kt=e=>!!(e&&e.constructor&&e.call&&e.apply),gl=e=>typeof e=="string"||e instanceof String,ml=({element:e})=>!(!kt(e.getSectionsToRender)||!kt(e.getSectionInnerHTML)),_l=()=>{const e=document.querySelector("cart-items")||document.querySelector("cart-drawer");return!e||!ml({element:e})?null:e},yl=({element:e})=>!(!kt(e.getSectionsToRender)||!kt(e.renderContents)),bl=()=>{const e=document.querySelector("cart-notification")||document.querySelector("cart-drawer");return!e||!yl({element:e})?null:e},Dl=[1399,1657,1926],vl=()=>window.Shopify.theme.theme_store_id?Dl.includes(window.Shopify.theme.theme_store_id):!1,Cl=[],El=()=>window.Shopify.theme.id?Cl.includes(window.Shopify.theme.id):!1,Sl=()=>vl()||El(),Fl=({funnel:e})=>Sl()?null:e.placement.type===Be.CART_PAGE?_l():e.placement.type===Be.PRODUCT_PAGE?bl():null;var le=(e=>(e.CART_DRAWER="CART_DRAWER",e.CART_ITEMS="CART_ITEMS",e.CART_NOTIFICATION="CART_NOTIFICATION",e))(le||{});const Rn=({cartElement:e})=>{if(!e)return null;if(e.tagName==="CART-DRAWER")return le.CART_DRAWER;if(e.tagName==="CART-ITEMS")return le.CART_ITEMS;if(e.tagName==="CART-NOTIFICATION")return le.CART_NOTIFICATION},Al=({cartElement:e})=>{if(!e)return[];const t=Rn({cartElement:e});return t?t===le.CART_ITEMS?e.getSectionsToRender().map(n=>n.section).join(","):[le.CART_DRAWER,le.CART_NOTIFICATION].includes(t)?e.getSectionsToRender().map(n=>n.id).join(","):[]:[]},xl=()=>{var e,t;return(t=(e=window.location)==null?void 0:e.pathname)==null?void 0:t.endsWith("/cart")},wl=[568,857,1190,1399,1657,2164,2348],Tl=()=>window.Shopify.theme.theme_store_id?wl.includes(window.Shopify.theme.theme_store_id):!1,Il=[38921994292,125098000430,129753612502,139323801766,142802944157,143818883308,144172548318,144889151723,158539186212,167538491426,169790112088,172393791804,174130725205,174217953620],$l=()=>window.Shopify.theme.id?Il.includes(window.Shopify.theme.id):!1,kl=()=>Tl()||$l(),Rl=({cartElement:e})=>{const t=Rn({cartElement:e});return t?[le.CART_DRAWER,le.CART_NOTIFICATION].includes(t):!1},Pl=({items:e,cartElement:t,data:n})=>{t.classList.remove("is-empty");const r=document.getElementById("main-cart-footer");r&&r.classList.remove("is-empty");const i=document.querySelector("cart-drawer");i&&i.classList.remove("is-empty"),Rn({cartElement:t})===le.CART_ITEMS?(t.getSectionsToRender().forEach(u=>{const a=document.getElementById(u.id).querySelector(u.selector)||document.getElementById(u.id);a.innerHTML=t.getSectionInnerHTML(n.sections[u.section],u.selector)}),e.forEach(u=>{window.publish&&window.publish("cart-update",{source:"cart-items",productVariantId:u.id,cartData:n})})):Rl({cartElement:t})&&(e.forEach(u=>{window.publish&&window.publish("cart-update",{source:"product-form",productVariantId:u.id,cartData:n})}),t.renderContents({...n,key:n.items[0].key}))},Ol=()=>{const e=document.querySelectorAll('form[action$="/cart/add"]');return e[e.length-1]},Yr=()=>{window.location.reload()},Ll=()=>{const e=Ol();if(!e)return Yr();const t=e.querySelector('button[type="submit"]');if(!t)return Yr();const n=e.querySelector('input[name="quantity"]');if(n){const r=n.getAttribute("value");n.setAttribute("min","0"),n.setAttribute("value","0"),t.click(),n.setAttribute("min","1"),n.setAttribute("value",r??"1")}else{const r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("value","0"),r.setAttribute("name","quantity"),e.appendChild(r),t.click(),r.remove()}},Bl=({cartElement:e,data:t,items:n})=>{window.essentialUpdateCartRefresh||kl()?window.location.reload():e?Pl({cartElement:e,data:t,items:n}):xl()?window.location.reload():Ll()},Nl=()=>{var e;if(typeof window>"u")return null;if((e=window.Shopify)!=null&&e.shop)return window.Shopify.shop;if(window.location.origin)return new URL(window.location.origin).hostname},Ml="https://essential-upsell-publisher.essential-apps.com",zl="123e4567-e89b-12d3-a456-426614174000",jl=async e=>fetch(`${Ml}/publish`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":zl},body:JSON.stringify({...e}),keepalive:!0}).catch(t=>{console.error("Failed to publish analytics event:",t)}),Do=async(e,t)=>{var r;const n=Nl();if(n&&!((r=window==null?void 0:window.Shopify)!=null&&r.designMode))return jl({attributes:{"X-Shopify-Shop-Domain":n,"X-Shopify-Topic":e},data:{...t,event_utc:t.event_utc??Date.now()}})},Ul=()=>typeof window<"u"?window.Shopify.currency:"",Hl=({funnel:e,data:t})=>{const n=new Date().getTime().toString();t.items.forEach(r=>{Do("essential-upsell/carts-update",{event_id:e.id,event_label:e.name,resource_id:n,event_value:r.price,event_count:1,properties:{currency:Ul()}})})},Wl=async({funnel:e,items:t})=>{const n=Fl({funnel:e}),r=window.Shopify.routes.root,i=r.endsWith("/")?`${r}cart/add.js`:`${r}/cart/add.js`,u=await(await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t,sections:Al({cartElement:n})})})).json();if(u.status)throw t.forEach(a=>{window.publish&&window.publish("cart-error",{source:"product-form",productVariantId:a.id,errors:u.errors||u.description,message:u.message})}),new Error(u.description);return Hl({funnel:e,data:u}),Bl({cartElement:n,data:u,items:t}),u},Xe=new Map,re=new Map;typeof window<"u"&&window.addEventListener("beforeunload",()=>{Xe.clear(),re.forEach(e=>{e.observer&&e.observer.disconnect(),e.timeout&&clearTimeout(e.timeout)}),re.clear(),window._essentialUpsellCartListenerAdded&&document.removeEventListener("essential-upsell-cart-updated",Co)});const Gl=({event_id:e,event_label:t,resource_id:n,threshold:r=.5,minViewTime:i=1e3,enabled:o=!0,properties:u})=>{const a=ye(null),s=ye(!1),l=ye(null);return q(()=>{typeof window>"u"||window._essentialUpsellCartListenerAdded||(document.addEventListener("essential-upsell-cart-updated",Co),window._essentialUpsellCartListenerAdded=!0,ql())},[]),q(()=>{if(typeof window>"u")return;const f=a.current;if(!f||!e||!o)return;if(document.visibilityState==="hidden"){const d=()=>{document.visibilityState==="visible"&&(c(),document.removeEventListener("visibilitychange",d))};return document.addEventListener("visibilitychange",d),()=>document.removeEventListener("visibilitychange",d)}function c(){const d=window.location.pathname,b=`${e}-${d}`;if(Xe.has(b)){s.current=!0;return}const C=new IntersectionObserver(m=>{const D=m[0];if(s.current||!a.current){l.current&&clearTimeout(l.current);return}const y=D.target;if(D.isIntersecting&&o){if(!lt(y)){re.has(b)||re.set(b,{element:y,event_id:e,event_label:t,resource_id:n,properties:u,minViewTime:i,threshold:r});return}l.current||(l.current=setTimeout(()=>{a.current&&o&&lt(y)&&(vo({event_id:e,event_label:t,resource_id:n,properties:u,impressionKey:b}),s.current=!0,C.disconnect()),l.current=null},i))}else l.current&&(clearTimeout(l.current),l.current=null)},{threshold:r});return C.observe(f),lt(f)||re.set(b,{element:f,event_id:e,event_label:t,resource_id:n,properties:u,observer:C,minViewTime:i,threshold:r}),()=>{if(C.disconnect(),l.current&&clearTimeout(l.current),re.has(b)){const m=re.get(b);m!=null&&m.timeout&&clearTimeout(m.timeout),m!=null&&m.observer&&m.observer.disconnect(),re.delete(b)}}}const h=c();return()=>{h&&h()}},[e,t,n,r,i,o,u]),a};function vo({event_id:e,event_label:t,resource_id:n,properties:r,impressionKey:i}){Xe.has(i)||(Do("essential-upsell/impression",{event_id:e,event_label:t,resource_id:n,event_value:0,event_count:1,properties:r}),Xe.set(i,!0))}function lt(e){if(!e)return!1;const t=e.getBoundingClientRect();if(t.width<5||t.height<5||t.top>=window.innerHeight||t.left>=window.innerWidth||t.bottom<=0||t.right<=0)return!1;let n=e;for(;n;){const r=window.getComputedStyle(n);if(r.display==="none"||r.visibility==="hidden"||r.opacity==="0"||parseFloat(r.opacity)<.1||r.position==="absolute"&&parseFloat(r.top)<-500||parseFloat(r.width)===0&&parseFloat(r.height)===0||r.transform.includes("scale(0)")||r.transform.includes("translate")&&(r.transform.includes("-999")||r.transform.includes("-1000")||r.transform.includes("-9999")))return!1;n=n.parentElement}return!0}function Co(){if(document.visibilityState==="hidden")return;const e=new Set;[100,500,1e3,2e3].forEach(t=>{setTimeout(()=>{re.forEach((n,r)=>{const i=window.location.pathname,o=`${n.event_id}-${i}`;if(Xe.has(o)||e.has(r)){Xe.has(o)&&re.delete(r);return}lt(n.element)&&(e.add(r),n.timeout=setTimeout(()=>{lt(n.element)&&(vo({event_id:n.event_id,event_label:n.event_label,resource_id:n.resource_id,properties:n.properties,impressionKey:o}),n.observer&&n.observer.disconnect(),re.delete(r))},n.minViewTime||1e3))})},t)})}function ql(){if(typeof window>"u"||window._essentialUpsellFetchOverridden)return;const e=["/cart/add.js","/cart/update.js","/cart/change.js","/cart.js","cart/add"],t=window.fetch;window.fetch=function(...n){var u;const r=((u=n[0])==null?void 0:u.toString())||"",i=e.some(a=>r.includes(a)),o=t.apply(this,n);return i&&o.then(()=>{setTimeout(()=>{document.dispatchEvent(new CustomEvent("essential-upsell-cart-updated"))},100)}).catch(()=>{setTimeout(()=>{document.dispatchEvent(new CustomEvent("essential-upsell-cart-updated"))},100)}),o},window._essentialUpsellFetchOverridden=!0}const Jl=({funnel:e,productPageProduct:t,cartItems:n,firstShopProductId:r,shopMoneyFormat:i,productPageCollectionIds:o})=>{const[u,a]=U(!1),s=T(()=>{const d=Vr({funnel:e,productPageProduct:t,cartItems:n,firstShopProductId:r});return d?d.toString():""},[e,t,n,r]),l=Gl({event_id:e.id,event_label:e.name,resource_id:s,enabled:u}),f=ee(async()=>{const d=Vr({funnel:e,productPageProduct:t,cartItems:n,firstShopProductId:r});if(!d)return{products:[]};const b=new URLSearchParams({product_id:d,intent:"related"}),C=window.Shopify.routes.root,m=C.endsWith("/")?`${C}recommendations/products.json?${b}`:`${C}/recommendations/products.json?${b}`;return await(await fetch(m)).json()},[e,t,n,r]),c=ee(async({handle:d})=>{const b=window.Shopify.routes.root,C=b.endsWith("/")?`${b}products/${d}.js`:`${b}/products/${d}.js`;try{const m=await fetch(C);if(m.status===404)return console.log(`Product not found (404) for handle: ${d}`),null;if(!m.ok)return console.log(`Product fetch failed for ${d}: ${m.status} ${m.statusText}`),null;const D=await m.json();return!D||!Object.keys(D).length?(console.log(`Empty product data for handle: ${d}`),null):pl({product:D})}catch(m){return console.log(`Error fetching product ${d}:`,m),null}},[]),h=ee(async({items:d})=>Wl({items:d,funnel:e}),[e]);return g(bo,{ref:l,funnel:e,fetchRecommendations:f,fetchProduct:c,addToCart:h,currency:window.Shopify.currency,shopMoneyFormat:i,locale:window.Shopify.locale,productPageProduct:t,cartItems:n,setIsImpressionTrackingEnabled:a,productPageCollectionIds:o})},Vl=async({args:e,originalFetch:t,setUpdatedCartData:n})=>{const[r]=e;if(!gl(r)||!r.startsWith("/cart"))return;const o=await(await t(window.Shopify.routes.root+"cart.js")).json(),u=o.items.reduce((a,s)=>{const l=`${s.product_id}`,f=`${s.variant_id}`;return a[l]||(a[l]=[]),a[l].includes(f)||a[l].push(f),a},{});n({isUpdated:!0,productIds:o.items.map(a=>`${a.product_id}`),variantIds:u})},Ql=({liquidCartItems:e})=>{const[t,n]=U({isUpdated:!1,productIds:[]});return q(()=>{const i=window.fetch;return window.fetch=function(){const o=arguments;return i.apply(this,o).then(u=>(Vl({args:o,originalFetch:i,setUpdatedCartData:n}),u))},()=>{window.fetch=i}},[]),{cartItems:T(()=>t.isUpdated?t.productIds.map(i=>{var s;const o=(s=t.variantIds)==null?void 0:s[i],u=o&&o.length>0?o[0]:void 0,a=e.find(l=>l.productId===i);return{productId:i,variantId:u||(a==null?void 0:a.variantId)||null,collectionIds:(a==null?void 0:a.collectionIds)||[]}}):e,[e,t])}};export{Yo as $,Eu as C,Jl as F,Te as O,T,Xl as a,Zl as b,Kl as c,Ql as d,Ol as g,U as h,xl as i,te as k,fn as o,ee as q,Yl as r,g as u,q as y};
